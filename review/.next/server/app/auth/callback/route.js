"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/auth/callback/route";
exports.ids = ["app/auth/callback/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fauth%2Fcallback%2Froute&page=%2Fauth%2Fcallback%2Froute&appPaths=&pagePath=private-next-app-dir%2Fauth%2Fcallback%2Froute.ts&appDir=%2FUsers%2Fulrikdalanfjellstad%2FDesktop%2Freview%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fulrikdalanfjellstad%2FDesktop%2Freview&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fauth%2Fcallback%2Froute&page=%2Fauth%2Fcallback%2Froute&appPaths=&pagePath=private-next-app-dir%2Fauth%2Fcallback%2Froute.ts&appDir=%2FUsers%2Fulrikdalanfjellstad%2FDesktop%2Freview%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fulrikdalanfjellstad%2FDesktop%2Freview&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_ulrikdalanfjellstad_Desktop_review_app_auth_callback_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/auth/callback/route.ts */ \"(rsc)/./app/auth/callback/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/auth/callback/route\",\n        pathname: \"/auth/callback\",\n        filename: \"route\",\n        bundlePath: \"app/auth/callback/route\"\n    },\n    resolvedPagePath: \"/Users/ulrikdalanfjellstad/Desktop/review/app/auth/callback/route.ts\",\n    nextConfigOutput,\n    userland: _Users_ulrikdalanfjellstad_Desktop_review_app_auth_callback_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/auth/callback/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhdXRoJTJGY2FsbGJhY2slMkZyb3V0ZSZwYWdlPSUyRmF1dGglMkZjYWxsYmFjayUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmF1dGglMkZjYWxsYmFjayUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnVscmlrZGFsYW5mamVsbHN0YWQlMkZEZXNrdG9wJTJGcmV2aWV3JTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnVscmlrZGFsYW5mamVsbHN0YWQlMkZEZXNrdG9wJTJGcmV2aWV3JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ29CO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV2aWV3LW1hbmFnZW1lbnQtc2Fhcy8/ZjI3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvdWxyaWtkYWxhbmZqZWxsc3RhZC9EZXNrdG9wL3Jldmlldy9hcHAvYXV0aC9jYWxsYmFjay9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hdXRoL2NhbGxiYWNrL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hdXRoL2NhbGxiYWNrXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2F1dGgvY2FsbGJhY2svcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvdWxyaWtkYWxhbmZqZWxsc3RhZC9EZXNrdG9wL3Jldmlldy9hcHAvYXV0aC9jYWxsYmFjay9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2F1dGgvY2FsbGJhY2svcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fauth%2Fcallback%2Froute&page=%2Fauth%2Fcallback%2Froute&appPaths=&pagePath=private-next-app-dir%2Fauth%2Fcallback%2Froute.ts&appDir=%2FUsers%2Fulrikdalanfjellstad%2FDesktop%2Freview%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fulrikdalanfjellstad%2FDesktop%2Freview&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/auth/callback/route.ts":
/*!************************************!*\
  !*** ./app/auth/callback/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/auth-helpers-nextjs */ \"(rsc)/./node_modules/@supabase/auth-helpers-nextjs/dist/index.js\");\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n\n\n\nasync function GET(request) {\n    const requestUrl = new URL(request.url);\n    const code = requestUrl.searchParams.get(\"code\");\n    const error = requestUrl.searchParams.get(\"error\");\n    const error_description = requestUrl.searchParams.get(\"error_description\");\n    const type = requestUrl.searchParams.get(\"type\");\n    // Logg feil hvis det finnes\n    if (error) {\n        console.error(\"Auth callback error:\", error_description);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(`/login?error=${encodeURIComponent(error_description || \"En feil oppstod\")}`, request.url));\n    }\n    // Hvis det er en kode, bytt den mot en sesjon\n    if (code) {\n        // Opprett en Supabase klient med cookies\n        const supabase = (0,_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1__.createRouteHandlerClient)({\n            cookies: next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies\n        });\n        // Bytt godkjenningskode for en sesjon\n        await supabase.auth.exchangeCodeForSession(code);\n        // Hent bruker etter at vi har byttet kode mot sesjon\n        const { data: { user } } = await supabase.auth.getUser();\n        if (user) {\n            console.log(\"Auth callback - Bruker autentisert:\", user.id);\n            // Sjekk om brukeren har en profil\n            const { data: profileData, error: profileError } = await supabase.from(\"profiles\").select(\"id, onboarding_completed\").eq(\"id\", user.id).single();\n            // Hvis brukeren ikke har en profil, opprett en\n            if (profileError || !profileData) {\n                console.log(\"Auth callback - Ingen profil funnet, oppretter ny profil for bruker:\", user.id);\n                const { error: insertError } = await supabase.from(\"profiles\").insert({\n                    id: user.id,\n                    email: user.email,\n                    full_name: user.user_metadata?.full_name || \"\",\n                    onboarding_completed: false,\n                    connected_review_platforms: []\n                });\n                if (insertError) {\n                    console.error(\"Auth callback - Feil ved oppretting av brukerprofil:\", insertError);\n                } else {\n                    console.log(\"Auth callback - Brukerprofil opprettet vellykket\");\n                }\n            } else {\n                console.log(\"Auth callback - Brukerprofil funnet. Onboarding status:\", profileData.onboarding_completed);\n            }\n        }\n        // Omdirigering basert på type\n        if (type === \"recovery\") {\n            // Passordtilbakestilling\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/update-password\", request.url));\n        } else if (type === \"signup\") {\n            // E-postverifisering etter registrering - sjekk om onboarding er fullført\n            const { data: { session } } = await supabase.auth.getSession();\n            if (session?.user) {\n                const { data: profile } = await supabase.from(\"profiles\").select(\"onboarding_completed\").eq(\"id\", session.user.id).single();\n                if (profile?.onboarding_completed) {\n                    console.log(\"Auth callback - Verifisert bruker med fullf\\xf8rt onboarding, omdirigerer til dashboard\");\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/dashboard\", request.url));\n                } else {\n                    console.log(\"Auth callback - Verifisert bruker, men onboarding ikke fullf\\xf8rt, omdirigerer til login\");\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/login?verified=true\", request.url));\n                }\n            }\n        }\n    }\n    // Standard omdirigering til dashboard\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/dashboard\", request.url));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXV0aC9jYWxsYmFjay9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE0RDtBQUNZO0FBQ2xDO0FBRS9CLGVBQWVHLElBQUlDLE9BQW9CO0lBQzVDLE1BQU1DLGFBQWEsSUFBSUMsSUFBSUYsUUFBUUcsR0FBRztJQUN0QyxNQUFNQyxPQUFPSCxXQUFXSSxZQUFZLENBQUNDLEdBQUcsQ0FBQztJQUN6QyxNQUFNQyxRQUFRTixXQUFXSSxZQUFZLENBQUNDLEdBQUcsQ0FBQztJQUMxQyxNQUFNRSxvQkFBb0JQLFdBQVdJLFlBQVksQ0FBQ0MsR0FBRyxDQUFDO0lBQ3RELE1BQU1HLE9BQU9SLFdBQVdJLFlBQVksQ0FBQ0MsR0FBRyxDQUFDO0lBRXpDLDRCQUE0QjtJQUM1QixJQUFJQyxPQUFPO1FBQ1RHLFFBQVFILEtBQUssQ0FBQyx3QkFBd0JDO1FBQ3RDLE9BQU9aLHFEQUFZQSxDQUFDZSxRQUFRLENBQzFCLElBQUlULElBQUksQ0FBQyxhQUFhLEVBQUVVLG1CQUFtQkoscUJBQXFCLG1CQUFtQixDQUFDLEVBQUVSLFFBQVFHLEdBQUc7SUFFckc7SUFFQSw4Q0FBOEM7SUFDOUMsSUFBSUMsTUFBTTtRQUNSLHlDQUF5QztRQUN6QyxNQUFNUyxXQUFXaEIsdUZBQXdCQSxDQUFDO1lBQUVDLE9BQU9BLG1EQUFBQTtRQUFDO1FBRXBELHNDQUFzQztRQUN0QyxNQUFNZSxTQUFTQyxJQUFJLENBQUNDLHNCQUFzQixDQUFDWDtRQUUzQyxxREFBcUQ7UUFDckQsTUFBTSxFQUFFWSxNQUFNLEVBQUVDLElBQUksRUFBRSxFQUFFLEdBQUcsTUFBTUosU0FBU0MsSUFBSSxDQUFDSSxPQUFPO1FBRXRELElBQUlELE1BQU07WUFDUlAsUUFBUVMsR0FBRyxDQUFDLHVDQUF1Q0YsS0FBS0csRUFBRTtZQUUxRCxrQ0FBa0M7WUFDbEMsTUFBTSxFQUFFSixNQUFNSyxXQUFXLEVBQUVkLE9BQU9lLFlBQVksRUFBRSxHQUFHLE1BQU1ULFNBQ3REVSxJQUFJLENBQUMsWUFDTEMsTUFBTSxDQUFDLDRCQUNQQyxFQUFFLENBQUMsTUFBTVIsS0FBS0csRUFBRSxFQUNoQk0sTUFBTTtZQUVULCtDQUErQztZQUMvQyxJQUFJSixnQkFBZ0IsQ0FBQ0QsYUFBYTtnQkFDaENYLFFBQVFTLEdBQUcsQ0FBQyx3RUFBd0VGLEtBQUtHLEVBQUU7Z0JBRTNGLE1BQU0sRUFBRWIsT0FBT29CLFdBQVcsRUFBRSxHQUFHLE1BQU1kLFNBQ2xDVSxJQUFJLENBQUMsWUFDTEssTUFBTSxDQUFDO29CQUNOUixJQUFJSCxLQUFLRyxFQUFFO29CQUNYUyxPQUFPWixLQUFLWSxLQUFLO29CQUNqQkMsV0FBV2IsS0FBS2MsYUFBYSxFQUFFRCxhQUFhO29CQUM1Q0Usc0JBQXNCO29CQUN0QkMsNEJBQTRCLEVBQUU7Z0JBQ2hDO2dCQUVGLElBQUlOLGFBQWE7b0JBQ2ZqQixRQUFRSCxLQUFLLENBQUMsd0RBQXdEb0I7Z0JBQ3hFLE9BQU87b0JBQ0xqQixRQUFRUyxHQUFHLENBQUM7Z0JBQ2Q7WUFDRixPQUFPO2dCQUNMVCxRQUFRUyxHQUFHLENBQUMsMkRBQTJERSxZQUFZVyxvQkFBb0I7WUFDekc7UUFDRjtRQUVBLDhCQUE4QjtRQUM5QixJQUFJdkIsU0FBUyxZQUFZO1lBQ3ZCLHlCQUF5QjtZQUN6QixPQUFPYixxREFBWUEsQ0FBQ2UsUUFBUSxDQUFDLElBQUlULElBQUksb0JBQW9CRixRQUFRRyxHQUFHO1FBQ3RFLE9BQU8sSUFBSU0sU0FBUyxVQUFVO1lBQzVCLDBFQUEwRTtZQUMxRSxNQUFNLEVBQUVPLE1BQU0sRUFBRWtCLE9BQU8sRUFBRSxFQUFFLEdBQUcsTUFBTXJCLFNBQVNDLElBQUksQ0FBQ3FCLFVBQVU7WUFDNUQsSUFBSUQsU0FBU2pCLE1BQU07Z0JBQ2pCLE1BQU0sRUFBRUQsTUFBTW9CLE9BQU8sRUFBRSxHQUFHLE1BQU12QixTQUM3QlUsSUFBSSxDQUFDLFlBQ0xDLE1BQU0sQ0FBQyx3QkFDUEMsRUFBRSxDQUFDLE1BQU1TLFFBQVFqQixJQUFJLENBQUNHLEVBQUUsRUFDeEJNLE1BQU07Z0JBRVQsSUFBSVUsU0FBU0osc0JBQXNCO29CQUNqQ3RCLFFBQVFTLEdBQUcsQ0FBQztvQkFDWixPQUFPdkIscURBQVlBLENBQUNlLFFBQVEsQ0FBQyxJQUFJVCxJQUFJLGNBQWNGLFFBQVFHLEdBQUc7Z0JBQ2hFLE9BQU87b0JBQ0xPLFFBQVFTLEdBQUcsQ0FBQztvQkFDWixPQUFPdkIscURBQVlBLENBQUNlLFFBQVEsQ0FBQyxJQUFJVCxJQUFJLHdCQUF3QkYsUUFBUUcsR0FBRztnQkFDMUU7WUFDRjtRQUNGO0lBQ0Y7SUFFQSxzQ0FBc0M7SUFDdEMsT0FBT1AscURBQVlBLENBQUNlLFFBQVEsQ0FBQyxJQUFJVCxJQUFJLGNBQWNGLFFBQVFHLEdBQUc7QUFDaEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXZpZXctbWFuYWdlbWVudC1zYWFzLy4vYXBwL2F1dGgvY2FsbGJhY2svcm91dGUudHM/MjVmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UsIHR5cGUgTmV4dFJlcXVlc3QgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGNyZWF0ZVJvdXRlSGFuZGxlckNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9hdXRoLWhlbHBlcnMtbmV4dGpzJ1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycydcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICBjb25zdCByZXF1ZXN0VXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgY29uc3QgY29kZSA9IHJlcXVlc3RVcmwuc2VhcmNoUGFyYW1zLmdldCgnY29kZScpXG4gIGNvbnN0IGVycm9yID0gcmVxdWVzdFVybC5zZWFyY2hQYXJhbXMuZ2V0KCdlcnJvcicpXG4gIGNvbnN0IGVycm9yX2Rlc2NyaXB0aW9uID0gcmVxdWVzdFVybC5zZWFyY2hQYXJhbXMuZ2V0KCdlcnJvcl9kZXNjcmlwdGlvbicpXG4gIGNvbnN0IHR5cGUgPSByZXF1ZXN0VXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3R5cGUnKVxuICBcbiAgLy8gTG9nZyBmZWlsIGh2aXMgZGV0IGZpbm5lc1xuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBdXRoIGNhbGxiYWNrIGVycm9yOicsIGVycm9yX2Rlc2NyaXB0aW9uKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QoXG4gICAgICBuZXcgVVJMKGAvbG9naW4/ZXJyb3I9JHtlbmNvZGVVUklDb21wb25lbnQoZXJyb3JfZGVzY3JpcHRpb24gfHwgJ0VuIGZlaWwgb3Bwc3RvZCcpfWAsIHJlcXVlc3QudXJsKVxuICAgIClcbiAgfVxuXG4gIC8vIEh2aXMgZGV0IGVyIGVuIGtvZGUsIGJ5dHQgZGVuIG1vdCBlbiBzZXNqb25cbiAgaWYgKGNvZGUpIHtcbiAgICAvLyBPcHByZXR0IGVuIFN1cGFiYXNlIGtsaWVudCBtZWQgY29va2llc1xuICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlUm91dGVIYW5kbGVyQ2xpZW50KHsgY29va2llcyB9KVxuXG4gICAgLy8gQnl0dCBnb2RramVubmluZ3Nrb2RlIGZvciBlbiBzZXNqb25cbiAgICBhd2FpdCBzdXBhYmFzZS5hdXRoLmV4Y2hhbmdlQ29kZUZvclNlc3Npb24oY29kZSlcbiAgICBcbiAgICAvLyBIZW50IGJydWtlciBldHRlciBhdCB2aSBoYXIgYnl0dGV0IGtvZGUgbW90IHNlc2pvblxuICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpXG4gICAgXG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdBdXRoIGNhbGxiYWNrIC0gQnJ1a2VyIGF1dGVudGlzZXJ0OicsIHVzZXIuaWQpXG4gICAgICBcbiAgICAgIC8vIFNqZWtrIG9tIGJydWtlcmVuIGhhciBlbiBwcm9maWxcbiAgICAgIGNvbnN0IHsgZGF0YTogcHJvZmlsZURhdGEsIGVycm9yOiBwcm9maWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBvbmJvYXJkaW5nX2NvbXBsZXRlZCcpXG4gICAgICAgIC5lcSgnaWQnLCB1c2VyLmlkKVxuICAgICAgICAuc2luZ2xlKClcbiAgICAgIFxuICAgICAgLy8gSHZpcyBicnVrZXJlbiBpa2tlIGhhciBlbiBwcm9maWwsIG9wcHJldHQgZW5cbiAgICAgIGlmIChwcm9maWxlRXJyb3IgfHwgIXByb2ZpbGVEYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBdXRoIGNhbGxiYWNrIC0gSW5nZW4gcHJvZmlsIGZ1bm5ldCwgb3BwcmV0dGVyIG55IHByb2ZpbCBmb3IgYnJ1a2VyOicsIHVzZXIuaWQpXG4gICAgICAgIFxuICAgICAgICBjb25zdCB7IGVycm9yOiBpbnNlcnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgIGZ1bGxfbmFtZTogdXNlci51c2VyX21ldGFkYXRhPy5mdWxsX25hbWUgfHwgJycsXG4gICAgICAgICAgICBvbmJvYXJkaW5nX2NvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgICBjb25uZWN0ZWRfcmV2aWV3X3BsYXRmb3JtczogW11cbiAgICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgaWYgKGluc2VydEVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQXV0aCBjYWxsYmFjayAtIEZlaWwgdmVkIG9wcHJldHRpbmcgYXYgYnJ1a2VycHJvZmlsOicsIGluc2VydEVycm9yKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdBdXRoIGNhbGxiYWNrIC0gQnJ1a2VycHJvZmlsIG9wcHJldHRldCB2ZWxseWtrZXQnKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnQXV0aCBjYWxsYmFjayAtIEJydWtlcnByb2ZpbCBmdW5uZXQuIE9uYm9hcmRpbmcgc3RhdHVzOicsIHByb2ZpbGVEYXRhLm9uYm9hcmRpbmdfY29tcGxldGVkKVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBPbWRpcmlnZXJpbmcgYmFzZXJ0IHDDpSB0eXBlXG4gICAgaWYgKHR5cGUgPT09ICdyZWNvdmVyeScpIHtcbiAgICAgIC8vIFBhc3NvcmR0aWxiYWtlc3RpbGxpbmdcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTCgnL3VwZGF0ZS1wYXNzd29yZCcsIHJlcXVlc3QudXJsKSlcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzaWdudXAnKSB7XG4gICAgICAvLyBFLXBvc3R2ZXJpZmlzZXJpbmcgZXR0ZXIgcmVnaXN0cmVyaW5nIC0gc2pla2sgb20gb25ib2FyZGluZyBlciBmdWxsZsO4cnRcbiAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpXG4gICAgICBpZiAoc2Vzc2lvbj8udXNlcikge1xuICAgICAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGUgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAgICAgICAuc2VsZWN0KCdvbmJvYXJkaW5nX2NvbXBsZXRlZCcpXG4gICAgICAgICAgLmVxKCdpZCcsIHNlc3Npb24udXNlci5pZClcbiAgICAgICAgICAuc2luZ2xlKClcbiAgICAgICAgXG4gICAgICAgIGlmIChwcm9maWxlPy5vbmJvYXJkaW5nX2NvbXBsZXRlZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdBdXRoIGNhbGxiYWNrIC0gVmVyaWZpc2VydCBicnVrZXIgbWVkIGZ1bGxmw7hydCBvbmJvYXJkaW5nLCBvbWRpcmlnZXJlciB0aWwgZGFzaGJvYXJkJylcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoJy9kYXNoYm9hcmQnLCByZXF1ZXN0LnVybCkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0F1dGggY2FsbGJhY2sgLSBWZXJpZmlzZXJ0IGJydWtlciwgbWVuIG9uYm9hcmRpbmcgaWtrZSBmdWxsZsO4cnQsIG9tZGlyaWdlcmVyIHRpbCBsb2dpbicpXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKCcvbG9naW4/dmVyaWZpZWQ9dHJ1ZScsIHJlcXVlc3QudXJsKSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFN0YW5kYXJkIG9tZGlyaWdlcmluZyB0aWwgZGFzaGJvYXJkXG4gIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTCgnL2Rhc2hib2FyZCcsIHJlcXVlc3QudXJsKSlcbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNyZWF0ZVJvdXRlSGFuZGxlckNsaWVudCIsImNvb2tpZXMiLCJHRVQiLCJyZXF1ZXN0IiwicmVxdWVzdFVybCIsIlVSTCIsInVybCIsImNvZGUiLCJzZWFyY2hQYXJhbXMiLCJnZXQiLCJlcnJvciIsImVycm9yX2Rlc2NyaXB0aW9uIiwidHlwZSIsImNvbnNvbGUiLCJyZWRpcmVjdCIsImVuY29kZVVSSUNvbXBvbmVudCIsInN1cGFiYXNlIiwiYXV0aCIsImV4Y2hhbmdlQ29kZUZvclNlc3Npb24iLCJkYXRhIiwidXNlciIsImdldFVzZXIiLCJsb2ciLCJpZCIsInByb2ZpbGVEYXRhIiwicHJvZmlsZUVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiaW5zZXJ0RXJyb3IiLCJpbnNlcnQiLCJlbWFpbCIsImZ1bGxfbmFtZSIsInVzZXJfbWV0YWRhdGEiLCJvbmJvYXJkaW5nX2NvbXBsZXRlZCIsImNvbm5lY3RlZF9yZXZpZXdfcGxhdGZvcm1zIiwic2Vzc2lvbiIsImdldFNlc3Npb24iLCJwcm9maWxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/auth/callback/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/set-cookie-parser","vendor-chunks/webidl-conversions","vendor-chunks/jose"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fauth%2Fcallback%2Froute&page=%2Fauth%2Fcallback%2Froute&appPaths=&pagePath=private-next-app-dir%2Fauth%2Fcallback%2Froute.ts&appDir=%2FUsers%2Fulrikdalanfjellstad%2FDesktop%2Freview%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fulrikdalanfjellstad%2FDesktop%2Freview&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();