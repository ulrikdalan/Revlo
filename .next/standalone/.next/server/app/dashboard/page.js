(()=>{var e={};e.id=7702,e.ids=[7702],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},73891:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=t(50482),a=t(69108),l=t(62563),n=t.n(l),i=t(68300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(r,o);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,43691)),"/Users/ulrikdalanfjellstad/Desktop/Revlo/app/dashboard/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,96339)),"/Users/ulrikdalanfjellstad/Desktop/Revlo/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,91429)),"/Users/ulrikdalanfjellstad/Desktop/Revlo/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ulrikdalanfjellstad/Desktop/Revlo/app/dashboard/page.tsx"],x="/dashboard/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},58953:(e,r,t)=>{Promise.resolve().then(t.bind(t,50567)),Promise.resolve().then(t.bind(t,64882)),Promise.resolve().then(t.t.bind(t,61476,23))},50567:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>R});var s=t(95344),a=t(3729),l=t(8428),n=t(56506),i=t(57435),o=t(61351),d=t(71206),c=t(25545),x=t(97075);let u=(0,x.Z)("file-search",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]),m=(0,x.Z)("file-pen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);var g=t(72164),p=t(76755);let h=(0,x.Z)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var b=t(30304);let f=(0,x.Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),v=(0,x.Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var y=t(91626),j=t(64882);let N={vurderinger:[{title:"Send vurderingsforesp\xf8rsel",description:"Send ut foresp\xf8rsel om vurdering til kunder",icon:s.jsx(d.Z,{className:"h-6 w-6"}),href:"/dashboard/reviews",color:"blue"},{title:"Oppf\xf8lgingsp\xe5minnelser",description:"Send p\xe5minnelser til kunder som ikke har gitt tilbakemelding",icon:s.jsx(c.Z,{className:"h-6 w-6"}),href:"/dashboard/reminders",color:"purple"},{title:"Sendte foresp\xf8rsler",description:"Se historikk over alle sendte vurderingsforesp\xf8rsler",icon:s.jsx(u,{className:"h-6 w-6"}),href:"/dashboard/sent-reviews",color:"amber"},{title:"E-postmaler",description:"Administrer og rediger dine e-postmaler",icon:s.jsx(m,{className:"h-6 w-6"}),href:"/dashboard/templates",color:"green"}],analyse:[{title:"Analyser",description:"Se statistikk og innsikt for dine vurderinger",icon:s.jsx(g.Z,{className:"h-6 w-6"}),href:"/dashboard/analytics",color:"cyan"},{title:"Eksterne anmeldelser",description:"Se dine eksterne anmeldelser fra tilkoblede plattformer",icon:s.jsx(p.Z,{className:"h-6 w-6"}),href:"/dashboard/reviews/external",color:"indigo"}],settings:[{title:"Innstillinger",description:"Endre kontoinnstillinger og preferanser",icon:s.jsx(h,{className:"h-6 w-6"}),href:"/dashboard/settings",color:"gray"},{title:"Google-konto",description:"Koble til og administrer Google-kontoen din",icon:s.jsx(b.Z,{className:"h-6 w-6"}),href:"/dashboard/google-account",color:"red"},{title:"Kunde-administrasjon",description:"Administrer dine kunder og deres informasjon",icon:s.jsx(f,{className:"h-6 w-6"}),href:"/dashboard/customers",color:"teal"}]},w=e=>{let r={blue:{bg:"bg-blue-50",hover:"hover:bg-blue-100",border:"border-blue-200",text:"text-blue-600"},purple:{bg:"bg-purple-50",hover:"hover:bg-purple-100",border:"border-purple-200",text:"text-purple-600"},green:{bg:"bg-green-50",hover:"hover:bg-green-100",border:"border-green-200",text:"text-green-600"},indigo:{bg:"bg-indigo-50",hover:"hover:bg-indigo-100",border:"border-indigo-200",text:"text-indigo-600"},amber:{bg:"bg-amber-50",hover:"hover:bg-amber-100",border:"border-amber-200",text:"text-amber-600"},cyan:{bg:"bg-cyan-50",hover:"hover:bg-cyan-100",border:"border-cyan-200",text:"text-cyan-600"},red:{bg:"bg-red-50",hover:"hover:bg-red-100",border:"border-red-200",text:"text-red-600"},gray:{bg:"bg-gray-50",hover:"hover:bg-gray-100",border:"border-gray-200",text:"text-gray-600"},teal:{bg:"bg-teal-50",hover:"hover:bg-teal-100",border:"border-teal-200",text:"text-teal-600"}};return r[e]||r.blue},k=e=>{let r={vurderinger:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-600",cardBg:"bg-blue-100 bg-opacity-30",headerBg:"bg-blue-200"},analyse:{bg:"bg-green-50",border:"border-green-200",text:"text-green-600",cardBg:"bg-green-100 bg-opacity-30",headerBg:"bg-green-200"},settings:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-600",cardBg:"bg-yellow-100 bg-opacity-30",headerBg:"bg-yellow-200"}};return r[e]||r.vurderinger};function R(){let[e,r]=(0,a.useState)(!1),[t,c]=(0,a.useState)([]),[x,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(null),[b,f]=(0,a.useState)({vurderinger:!0,analyse:!0,settings:!0});(0,l.useRouter)();let R=(0,i.createClientComponentClient)(),C=e=>{f({...b,[e]:!b[e]})};(0,a.useEffect)(()=>{(async function(){try{u(!0);let{data:{session:e},error:r}=await R.auth.getSession();if(r||!e){console.error("Error fetching session:",r?.message||"No session"),u(!1);return}let{data:t,error:s}=await R.from("sent_emails").select("id, email, sent_at, status, user_id").eq("user_id",e.user.id).order("sent_at",{ascending:!1}).limit(5);if(s)throw s;c(t||[])}catch(e){console.error("Error fetching recent emails:",e),p(e.message)}finally{u(!1)}})()},[R]);let S=e=>new Date(e).toLocaleString("no-NO",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),Z=(e,r,t,a)=>{let l=k(e),i=b[e];return(0,s.jsxs)("section",{className:"mt-8 first:mt-0",children:[s.jsx("div",{className:`${l.headerBg} border border-muted shadow-sm rounded-lg px-4 py-3 mb-4`,children:(0,s.jsxs)("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>C(e),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 ${l.text}`,children:t}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r})]}),s.jsx("div",{children:s.jsx(v,{className:(0,y.cn)("h-5 w-5 transition-transform",i&&"rotate-180")})})]})}),s.jsx("div",{className:(0,y.cn)("transition-all duration-300 ease-in-out overflow-hidden",i?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"),children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-4",children:a.map((e,r)=>(w(e.color),s.jsx(n.default,{href:e.href,className:"block",children:s.jsx("div",{className:`${l.cardBg} border-[1.5px] border-gray-300 rounded-xl px-4 py-3 hover:bg-opacity-50 transition-all duration-300 shadow-sm min-h-[120px] flex items-center`,children:(0,s.jsxs)("div",{className:"flex items-center gap-4 w-full",children:[s.jsx("div",{className:`rounded-full p-3 bg-white ${l.text} flex-shrink-0`,children:e.icon}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-lg leading-tight mb-1.5",children:e.title}),s.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 leading-snug",children:e.description})]})]})})},r)))})})]})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-slate-50 p-6 relative",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsx(o.Zb,{className:"overflow-hidden border-0 shadow-lg rounded-2xl",children:(0,s.jsxs)(o.Ol,{className:"pb-8",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx(o.ll,{className:"text-2xl font-bold",children:"Dashboard"})}),s.jsx(j.default,{})]})}),Z("vurderinger","Vurderingsutsendelser",s.jsx(d.Z,{className:"h-6 w-6"}),N.vurderinger),Z("analyse","Analyse og innsikt",s.jsx(g.Z,{className:"h-6 w-6"}),N.analyse),Z("settings","Innstillinger og integrasjoner",s.jsx(h,{className:"h-6 w-6"}),N.settings),(0,s.jsxs)(o.Zb,{className:"border-0 shadow-lg overflow-hidden rounded-2xl mt-10",children:[s.jsx(o.Ol,{className:"pb-2",children:s.jsx(o.ll,{className:"text-xl font-semibold",children:"Nylige vurderingsforesp\xf8rsler"})}),s.jsx(o.aY,{className:"p-6",children:x?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"})}):m?(0,s.jsxs)("div",{className:"bg-red-50 p-5 rounded-2xl border border-red-100 text-red-700 mb-4",children:["Feil ved lasting av data: ",m]}):0===t.length?s.jsx("div",{className:"bg-blue-50 p-5 rounded-2xl border border-blue-100 text-blue-800",children:"Ingen vurderingsforesp\xf8rsler sendt enn\xe5."}):(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 rounded-2xl overflow-hidden",children:[s.jsx("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"E-post"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sendt"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S(e.sent_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${"SENT"===e.status?"bg-green-100 text-green-800":"REMINDER_SENT"===e.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:e.status})})]},e.id))})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(n.default,{href:"/dashboard/sent-reviews",className:"inline-flex items-center justify-center px-6 py-3 rounded-xl text-white bg-gradient-to-r from-blue-600 to-indigo-600 font-medium hover:shadow-lg transition-all duration-200 hover:-translate-y-0.5",children:"Se alle foresp\xf8rsler"})})]})})]})]})})}},64882:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(95344),a=t(3729),l=t(57435),n=t(46064),i=t(97075);let o=(0,i.Z)("trending-down",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),d=(0,i.Z)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function c(){let[e,r]=(0,a.useState)(null),[t,i]=(0,a.useState)(!0),[c,x]=(0,a.useState)(null),[u,m]=(0,a.useState)({completedReviews:0,pendingReviews:0,clickRate:0,reviewGrowth:0,clickRateChange:0}),g=(0,l.createClientComponentClient)();(0,a.useEffect)(()=>{(async function(){try{i(!0);let{data:{session:e},error:t}=await g.auth.getSession();if(t||!e){console.error("Error fetching session:",t?.message||"No session"),i(!1);return}r(e.user),m({completedReviews:Math.floor(100*Math.random())+20,pendingReviews:Math.floor(30*Math.random())+5,clickRate:.4*Math.random()+.2,reviewGrowth:.4*Math.random()-.1,clickRateChange:.2*Math.random()-.05})}catch(e){console.error("Error fetching stats:",e),x(e.message)}finally{i(!1)}})()},[g]);let p=e=>(100*e).toFixed(1)+"%",h=e=>e>.02?{icon:s.jsx(n.Z,{className:"w-4 h-4"}),color:"text-green-600",text:"opp"}:e<-.02?{icon:s.jsx(o,{className:"w-4 h-4"}),color:"text-red-600",text:"ned"}:{icon:s.jsx(d,{className:"w-4 h-4"}),color:"text-gray-500",text:"uendret"},b=h(u.reviewGrowth),f=h(u.clickRateChange);return t?s.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 animate-pulse",children:[1,2,3].map(e=>s.jsx("div",{className:"h-24 bg-gray-200 rounded-xl"},e))}):c?(0,s.jsxs)("div",{className:"mt-4 bg-red-50 p-4 rounded-xl border border-red-100 text-red-600",children:["Kunne ikke laste statistikk: ",c]}):(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-5 rounded-xl border border-blue-100 shadow-sm",children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Fullf\xf8rte vurderinger"}),(0,s.jsxs)("div",{className:"mt-2 flex items-end justify-between",children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:u.completedReviews}),(0,s.jsxs)("div",{className:`flex items-center text-sm ${b.color}`,children:[b.icon,s.jsx("span",{className:"ml-1",children:p(Math.abs(u.reviewGrowth))})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"fra forrige m\xe5ned"})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 p-5 rounded-xl border border-amber-100 shadow-sm",children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Ventende vurderinger"}),(0,s.jsxs)("div",{className:"mt-2 flex items-end justify-between",children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:u.pendingReviews}),s.jsx("div",{className:"flex items-center text-sm text-amber-600",children:s.jsx("span",{className:"px-2 py-1 bg-amber-100 rounded-full text-xs",children:"Aktive"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ubesvarte henvendelser"})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-5 rounded-xl border border-green-100 shadow-sm",children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Klikk-rate"}),(0,s.jsxs)("div",{className:"mt-2 flex items-end justify-between",children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:p(u.clickRate)}),(0,s.jsxs)("div",{className:`flex items-center text-sm ${f.color}`,children:[f.icon,s.jsx("span",{className:"ml-1",children:p(Math.abs(u.clickRateChange))})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"av alle henvendelser"})]})]})}},61351:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>i,SZ:()=>d,Zb:()=>n,aY:()=>c,ll:()=>o});var s=t(95344),a=t(3729),l=t(91626);let n=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm relative pointer-events-auto",e),...r}));n.displayName="Card";let i=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6 pointer-events-auto",e),...r}));i.displayName="CardHeader";let o=a.forwardRef(({className:e,...r},t)=>s.jsx("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));o.displayName="CardTitle";let d=a.forwardRef(({className:e,...r},t)=>s.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-gray-500",e),...r}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0 pointer-events-auto",e),...r}));c.displayName="CardContent",a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0 pointer-events-auto",e),...r})).displayName="CardFooter"},25545:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(97075).Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},30304:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(97075).Z)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},71206:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(97075).Z)("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},76755:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(97075).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},46064:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(97075).Z)("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},43691:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>D,dynamic:()=>M});var s,a,l=t(25036),n=t(867),i=t(57699),o=t(7439),d=t(86843);let c=(0,d.createProxy)(String.raw`/Users/ulrikdalanfjellstad/Desktop/Revlo/components/dashboard/DashboardClient.tsx`),{__esModule:x,$$typeof:u}=c,m=c.default,g=(0,d.createProxy)(String.raw`/Users/ulrikdalanfjellstad/Desktop/Revlo/components/dashboard/DashboardStats.tsx`),{__esModule:p,$$typeof:h}=g,b=g.default;var f=t(96184),v=t(40002);function y(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}var j=function(e){let r=function(e){let r=v.forwardRef((e,r)=>{let{children:t,...s}=e;if(v.isValidElement(t)){let e,a;let l=(e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.props.ref:t.props.ref||t.ref,n=function(e,r){let t={...r};for(let s in r){let a=e[s],l=r[s];/^on[A-Z]/.test(s)?a&&l?t[s]=(...e)=>{l(...e),a(...e)}:a&&(t[s]=a):"style"===s?t[s]={...a,...l}:"className"===s&&(t[s]=[a,l].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props);return t.type!==v.Fragment&&(n.ref=r?function(...e){return r=>{let t=!1,s=e.map(e=>{let s=y(e,r);return t||"function"!=typeof s||(t=!0),s});if(t)return()=>{for(let r=0;r<s.length;r++){let t=s[r];"function"==typeof t?t():y(e[r],null)}}}}(r,l):l),v.cloneElement(t,n)}return v.Children.count(t)>1?v.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=v.forwardRef((e,t)=>{let{children:s,...a}=e,n=v.Children.toArray(s),i=n.find(w);if(i){let e=i.props.children,s=n.map(r=>r!==i?r:v.Children.count(e)>1?v.Children.only(null):v.isValidElement(e)?e.props.children:null);return(0,l.jsx)(r,{...a,ref:t,children:v.isValidElement(e)?v.cloneElement(e,void 0,s):null})}return(0,l.jsx)(r,{...a,ref:t,children:s})});return t.displayName=`${e}.Slot`,t}("Slot"),N=Symbol("radix.slottable");function w(e){return v.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===N}var k=t(70990);let R=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,C=k.W;var S=t(95752);let Z=(s="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 relative",a={variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-blue-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var r;if((null==a?void 0:a.variants)==null)return C(s,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:t,defaultVariants:l}=a,n=Object.keys(t).map(r=>{let s=null==e?void 0:e[r],a=null==l?void 0:l[r];if(null===s)return null;let n=R(s)||R(a);return t[r][n]}),i=e&&Object.entries(e).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return C(s,n,null==a?void 0:null===(r=a.compoundVariants)||void 0===r?void 0:r.reduce((e,r)=>{let{class:t,className:s,...a}=r;return Object.entries(a).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...l,...i}[r]):({...l,...i})[r]===t})?[...e,t,s]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),q=v.forwardRef(({className:e,variant:r,size:t,asChild:s=!1,disabled:a,...n},i)=>{let o=s?j:"button";return l.jsx(o,{className:(0,S.cn)(Z({variant:r,size:t,className:e}),a?"pointer-events-none":"pointer-events-auto"),ref:i,disabled:a,...n})});q.displayName="Button";var _=t(16274);async function D(){let e=(0,i.createServerComponentClient)({cookies:o.cookies});try{console.log("Dashboard: Checking session");let{data:{user:r}}=await e.auth.getUser();r||(0,n.redirect)("/login");let{data:t,error:s}=await e.from("profiles").select("*").eq("id",r.id).maybeSingle();return console.log("\uD83D\uDD0D Profil-data:",t),console.log("⚠️ Profil-feil:",s),t||(console.log("❗Ingen profil funnet – redirecter til onboarding"),(0,n.redirect)("/onboarding")),t&&!t.onboarding_completed&&(console.log("Dashboard: User profile found, onboarding not completed"),console.log("Dashboard: Onboarding not completed, redirecting to onboarding"),(0,n.redirect)("/onboarding")),console.log("Dashboard loaded, no redirect"),(0,l.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),l.jsx(q,{asChild:!0,children:l.jsx(_.default,{href:"/dashboard/reviews/new",children:"Opprett ny foresp\xf8rsel"})})]}),l.jsx(f.Zb,{className:"mb-8",children:(0,l.jsxs)(f.Ol,{className:"pb-8",children:[l.jsx(f.ll,{className:"text-xl",children:"Statistikk"}),l.jsx(f.SZ,{children:"Viktige tall og statistikk fra din konto"}),l.jsx(b,{})]})}),l.jsx(m,{})]})}catch(e){return console.error("Dashboard: Unexpected error:",e),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"mb-6 bg-amber-50 border border-amber-200 text-amber-700 px-4 py-3 rounded-lg",children:[l.jsx("p",{className:"font-medium",children:"Vi opplever noen tekniske problemer"}),l.jsx("p",{className:"mt-1 text-sm",children:"Dashboardet lastes med begrenset funksjonalitet."})]}),l.jsx(m,{})]})}}let M="force-dynamic"},96184:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>i,SZ:()=>d,Zb:()=>n,aY:()=>c,ll:()=>o});var s=t(25036),a=t(40002),l=t(95752);let n=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm relative pointer-events-auto",e),...r}));n.displayName="Card";let i=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6 pointer-events-auto",e),...r}));i.displayName="CardHeader";let o=a.forwardRef(({className:e,...r},t)=>s.jsx("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));o.displayName="CardTitle";let d=a.forwardRef(({className:e,...r},t)=>s.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-gray-500",e),...r}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0 pointer-events-auto",e),...r}));c.displayName="CardContent",a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0 pointer-events-auto",e),...r})).displayName="CardFooter"},95752:(e,r,t)=>{"use strict";t.d(r,{cn:()=>l});var s=t(70990),a=t(81774);function l(...e){return(0,a.m6)((0,s.W)(e))}}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[1638,5665,5620,3421,6506,4824,3851,8554],()=>t(73891));module.exports=s})();