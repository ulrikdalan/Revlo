(()=>{var e={};e.id=5613,e.ids=[5613],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},89328:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>f,tree:()=>d});var a=r(50482),n=r(69108),s=r(62563),i=r.n(s),o=r(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["dashboard",{children:["google-reviews",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,68256)),"/Users/ulrikdalanfjellstad/Desktop/Revlo/app/dashboard/google-reviews/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,96339)),"/Users/ulrikdalanfjellstad/Desktop/Revlo/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,91429)),"/Users/ulrikdalanfjellstad/Desktop/Revlo/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/ulrikdalanfjellstad/Desktop/Revlo/app/dashboard/google-reviews/page.tsx"],c="/dashboard/google-reviews/page",m={require:r,loadChunk:()=>Promise.resolve()},f=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/dashboard/google-reviews/page",pathname:"/dashboard/google-reviews",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},86155:(e,t,r)=>{Promise.resolve().then(r.bind(r,42027))},42027:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(95344),n=r(3729),s=r(61351),i=r(16212),o=r(76755),l=r(63954),d=r(65849),u=r(88263),c=r(56506);function m(){let[e,t]=(0,n.useState)([]),[r,m]=(0,n.useState)(null),[f,p]=(0,n.useState)(!0),[g,h]=(0,n.useState)(null),[v,x]=(0,n.useState)("checking");return(0,n.useEffect)(()=>{async function e(){try{let e=await fetch("/api/oauth/google/status");if(!e.ok){if(400===e.status)x("disconnected");else throw Error("Kunne ikke sjekke Google-tilkobling");return!1}if((await e.json()).connected)return x("connected"),!0;return x("disconnected"),!1}catch(e){return console.error("Error checking Google connection:",e),h("Kunne ikke sjekke Google-tilkobling"),x("disconnected"),!1}}async function r(){try{let e=await fetch("/api/reviews/google");if(!e.ok){if(400===e.status||401===e.status){x("disconnected");let t=await e.json();h(t.error||"Ikke tilkoblet Google")}else throw Error("Kunne ikke hente anmeldelser");return}let r=await e.json();t(r.reviews),m(r.business),x("connected")}catch(e){console.error("Error fetching Google reviews:",e),h("Kunne ikke hente anmeldelser fra Google")}finally{p(!1)}}(async()=>{await e()?await r():p(!1)})()},[]),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Google-anmeldelser"}),"disconnected"===v&&a.jsx(s.Zb,{children:a.jsx(s.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Koble til Google"}),a.jsx("p",{children:"Koble til din Google My Business konto for \xe5 vise anmeldelser"}),a.jsx(i.z,{asChild:!0,children:a.jsx(c.default,{href:"/dashboard/settings",children:"Koble til Google"})}),g&&a.jsx("p",{className:"text-red-500 text-sm",children:g})]})})}),"connected"===v&&(0,a.jsxs)(a.Fragment,{children:[r&&a.jsx(s.Zb,{children:(0,a.jsxs)(s.Ol,{children:[a.jsx(s.ll,{children:r.name}),a.jsx(s.SZ,{children:a.jsx(c.default,{href:`https://search.google.com/local/reviews?placeid=${r.place_id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Se alle anmeldelser p\xe5 Google"})})]})}),f?a.jsx("p",{children:"Laster anmeldelser..."}):g?a.jsx("p",{className:"text-red-500",children:g}):0===e.length?a.jsx("p",{children:"Ingen anmeldelser funnet"}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>{var t;return(0,a.jsxs)(s.Zb,{children:[a.jsx(s.Ol,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(l.qE,{children:a.jsx(l.Q5,{children:e.reviewer_name.substring(0,2)})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium",children:e.reviewer_name}),a.jsx("div",{className:"flex",children:(t=e.rating,Array.from({length:5}).map((e,r)=>a.jsx(o.Z,{className:`h-4 w-4 ${r<t?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},r)))})]})]})}),(0,a.jsxs)(s.aY,{children:[a.jsx("p",{className:"text-sm",children:e.comment}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:(0,d.WU)(new Date(e.created_at),"PPP",{locale:u.nb})})]})]},e.id)})})]})]})}},63954:(e,t,r)=>{"use strict";r.d(t,{qE:()=>k,Q5:()=>N});var a=r(95344),n=r(3729),s=r(98462),i=r(2256),o=r(16069),l=r(62409),d=r(8145);function u(){return()=>{}}var c="Avatar",[m,f]=(0,s.b)(c),[p,g]=m(c),h=n.forwardRef((e,t)=>{let{__scopeAvatar:r,...s}=e,[i,o]=n.useState("idle");return(0,a.jsx)(p,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:(0,a.jsx)(l.WV.span,{...s,ref:t})})});h.displayName=c;var v="AvatarImage",x=n.forwardRef((e,t)=>{let{__scopeAvatar:r,src:s,onLoadingStatusChange:c=()=>{},...m}=e,f=g(v,r),p=function(e,{referrerPolicy:t,crossOrigin:r}){let a=(0,d.useSyncExternalStore)(u,()=>!0,()=>!1),s=n.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[l,c]=n.useState(()=>y(i,e));return(0,o.b)(()=>{c(y(i,e))},[i,e]),(0,o.b)(()=>{let e=e=>()=>{c(e)};if(!i)return;let a=e("loaded"),n=e("error");return i.addEventListener("load",a),i.addEventListener("error",n),t&&(i.referrerPolicy=t),"string"==typeof r&&(i.crossOrigin=r),()=>{i.removeEventListener("load",a),i.removeEventListener("error",n)}},[i,r,t]),l}(s,m),h=(0,i.W)(e=>{c(e),f.onImageLoadingStatusChange(e)});return(0,o.b)(()=>{"idle"!==p&&h(p)},[p,h]),"loaded"===p?(0,a.jsx)(l.WV.img,{...m,ref:t,src:s}):null});x.displayName=v;var b="AvatarFallback",w=n.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:s,...i}=e,o=g(b,r),[d,u]=n.useState(void 0===s);return n.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>u(!0),s);return()=>window.clearTimeout(e)}},[s]),d&&"loaded"!==o.imageLoadingStatus?(0,a.jsx)(l.WV.span,{...i,ref:t}):null});function y(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}w.displayName=b;var j=r(91626);let k=n.forwardRef(({className:e,...t},r)=>a.jsx(h,{ref:r,className:(0,j.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));k.displayName=h.displayName,n.forwardRef(({className:e,...t},r)=>a.jsx(x,{ref:r,className:(0,j.cn)("aspect-square h-full w-full",e),...t})).displayName=x.displayName;let N=n.forwardRef(({className:e,...t},r)=>a.jsx(w,{ref:r,className:(0,j.cn)("flex h-full w-full items-center justify-center rounded-full bg-gray-100 text-gray-700",e),...t}));N.displayName=w.displayName},16212:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var a=r(95344),n=r(3729),s=r(32751),i=r(49247),o=r(91626);let l=(0,i.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 relative",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-blue-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,disabled:i,...d},u)=>{let c=n?s.g7:"button";return a.jsx(c,{className:(0,o.cn)(l({variant:t,size:r,className:e}),i?"pointer-events-none":"pointer-events-auto"),ref:u,disabled:i,...d})});d.displayName="Button"},61351:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>o,SZ:()=>d,Zb:()=>i,aY:()=>u,ll:()=>l});var a=r(95344),n=r(3729),s=r(91626);let i=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,s.cn)("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm relative pointer-events-auto",e),...t}));i.displayName="Card";let o=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6 pointer-events-auto",e),...t}));o.displayName="CardHeader";let l=n.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=n.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,s.cn)("text-sm text-gray-500",e),...t}));d.displayName="CardDescription";let u=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,s.cn)("p-6 pt-0 pointer-events-auto",e),...t}));u.displayName="CardContent",n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0 pointer-events-auto",e),...t})).displayName="CardFooter"},76755:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(97075).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},30080:(e,t,r)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=r(3729),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=a.useState,i=a.useEffect,o=a.useLayoutEffect,l=a.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=s({inst:{value:r,getSnapshot:t}}),n=a[0].inst,u=a[1];return o(function(){n.value=r,n.getSnapshot=t,d(n)&&u({inst:n})},[e,r,t]),i(function(){return d(n)&&u({inst:n}),e(function(){d(n)&&u({inst:n})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:u},8145:(e,t,r)=>{"use strict";e.exports=r(30080)},68256:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>s,__esModule:()=>n,default:()=>i});let a=(0,r(86843).createProxy)(String.raw`/Users/ulrikdalanfjellstad/Desktop/Revlo/app/dashboard/google-reviews/page.tsx`),{__esModule:n,$$typeof:s}=a,i=a.default},88263:(e,t,r)=>{"use strict";r.d(t,{nb:()=>u});let a={lessThanXSeconds:{one:"mindre enn ett sekund",other:"mindre enn {{count}} sekunder"},xSeconds:{one:"ett sekund",other:"{{count}} sekunder"},halfAMinute:"et halvt minutt",lessThanXMinutes:{one:"mindre enn ett minutt",other:"mindre enn {{count}} minutter"},xMinutes:{one:"ett minutt",other:"{{count}} minutter"},aboutXHours:{one:"omtrent en time",other:"omtrent {{count}} timer"},xHours:{one:"en time",other:"{{count}} timer"},xDays:{one:"en dag",other:"{{count}} dager"},aboutXWeeks:{one:"omtrent en uke",other:"omtrent {{count}} uker"},xWeeks:{one:"en uke",other:"{{count}} uker"},aboutXMonths:{one:"omtrent en m\xe5ned",other:"omtrent {{count}} m\xe5neder"},xMonths:{one:"en m\xe5ned",other:"{{count}} m\xe5neder"},aboutXYears:{one:"omtrent ett \xe5r",other:"omtrent {{count}} \xe5r"},xYears:{one:"ett \xe5r",other:"{{count}} \xe5r"},overXYears:{one:"over ett \xe5r",other:"over {{count}} \xe5r"},almostXYears:{one:"nesten ett \xe5r",other:"nesten {{count}} \xe5r"}};var n=r(45324);let s={date:(0,n.l)({formats:{full:"EEEE d. MMMM y",long:"d. MMMM y",medium:"d. MMM y",short:"dd.MM.y"},defaultWidth:"full"}),time:(0,n.l)({formats:{full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,n.l)({formats:{full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},i={lastWeek:"'forrige' eeee 'kl.' p",yesterday:"'i g\xe5r kl.' p",today:"'i dag kl.' p",tomorrow:"'i morgen kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"};var o=r(69419);let l={ordinalNumber:(e,t)=>Number(e)+".",era:(0,o.Y)({values:{narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["f\xf8r Kristus","etter Kristus"]},defaultWidth:"wide"}),quarter:(0,o.Y)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,o.Y)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","mai","juni","juli","aug.","sep.","okt.","nov.","des."],wide:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]},defaultWidth:"wide"}),day:(0,o.Y)({values:{narrow:["S","M","T","O","T","F","L"],short:["s\xf8","ma","ti","on","to","fr","l\xf8"],abbreviated:["s\xf8n","man","tir","ons","tor","fre","l\xf8r"],wide:["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"]},defaultWidth:"wide"}),dayPeriod:(0,o.Y)({values:{narrow:{am:"a",pm:"p",midnight:"midnatt",noon:"middag",morning:"p\xe5 morg.",afternoon:"p\xe5 etterm.",evening:"p\xe5 kvelden",night:"p\xe5 natten"},abbreviated:{am:"a.m.",pm:"p.m.",midnight:"midnatt",noon:"middag",morning:"p\xe5 morg.",afternoon:"p\xe5 etterm.",evening:"p\xe5 kvelden",night:"p\xe5 natten"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnatt",noon:"middag",morning:"p\xe5 morgenen",afternoon:"p\xe5 ettermiddagen",evening:"p\xe5 kvelden",night:"p\xe5 natten"}},defaultWidth:"wide"})};var d=r(76006);let u={code:"nb",formatDistance:(e,t,r)=>{let n;let s=a[e];return(n="string"==typeof s?s:1===t?s.one:s.other.replace("{{count}}",String(t)),r?.addSuffix)?r.comparison&&r.comparison>0?"om "+n:n+" siden":n},formatLong:s,formatRelative:(e,t,r,a)=>i[e],localize:l,match:{ordinalNumber:(0,r(64832).y)({matchPattern:/^(\d+)\.?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,d.t)({matchPatterns:{narrow:/^(f\.? ?Kr\.?|fvt\.?|e\.? ?Kr\.?|evt\.?)/i,abbreviated:/^(f\.? ?Kr\.?|fvt\.?|e\.? ?Kr\.?|evt\.?)/i,wide:/^(før Kristus|før vår tid|etter Kristus|vår tid)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^f/i,/^e/i]},defaultParseWidth:"any"}),quarter:(0,d.t)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? kvartal/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,d.t)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mars?|apr|mai|juni?|juli?|aug|sep|okt|nov|des)\.?/i,wide:/^(januar|februar|mars|april|mai|juni|juli|august|september|oktober|november|desember)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^aug/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,d.t)({matchPatterns:{narrow:/^[smtofl]/i,short:/^(sø|ma|ti|on|to|fr|lø)/i,abbreviated:/^(søn|man|tir|ons|tor|fre|lør)/i,wide:/^(søndag|mandag|tirsdag|onsdag|torsdag|fredag|lørdag)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},defaultParseWidth:"any"}),dayPeriod:(0,d.t)({matchPatterns:{narrow:/^(midnatt|middag|(på) (morgenen|ettermiddagen|kvelden|natten)|[ap])/i,any:/^([ap]\.?\s?m\.?|midnatt|middag|(på) (morgenen|ettermiddagen|kvelden|natten))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a(\.?\s?m\.?)?$/i,pm:/^p(\.?\s?m\.?)?$/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgen/i,afternoon:/ettermiddag/i,evening:/kveld/i,night:/natt/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[1638,5620,6506,2441,8554],()=>r(89328));module.exports=a})();