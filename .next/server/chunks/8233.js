"use strict";exports.id=8233,exports.ids=[8233],exports.modules={28233:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var r=a(95344),n=a(3729),i=a(57435),s=a(61351),l=a(63954),d=a(56506),o=a(65849),m=a(88263),u=a(91626);function c(){let[e,t]=(0,n.useState)([]),[a,c]=(0,n.useState)([]),[f,h]=(0,n.useState)(!0),[p,g]=(0,n.useState)(null),v=(0,i.createClientComponentClient)();(0,n.useEffect)(()=>{(async function(){h(!0);try{let{data:{session:e}}=await v.auth.getSession();if(!e)return;let a=e.user.id,{data:r,error:n}=await v.from("platforms").select("*").order("name");n||c(r||[]);let{data:i,error:s}=await v.from("external_reviews").select("*").eq("user_id",a).order("published_at",{ascending:!1}).limit(3);if(s)throw s;t(i||[])}catch(e){console.error("Error fetching recent external reviews:",e),g(e.message)}finally{h(!1)}})()},[v]);let x=e=>(0,o.WU)(new Date(e),"d. MMM yyyy",{locale:m.nb}),y=e=>r.jsx("div",{className:"flex",children:[1,2,3,4,5].map(t=>r.jsx("span",{className:(0,u.cn)("text-sm",t<=e?"text-yellow-500":"text-gray-300"),children:"★"},t))}),b=e=>{let t=a.find(t=>t.name.toLowerCase()===e.toLowerCase());if(t)return{color:t.color||"#e5e7eb",initials:t.icon||t.name.substring(0,1).toUpperCase(),displayName:t.display_name||e};switch(e.toLowerCase()){case"google":return{color:"#4285F4",initials:"G",displayName:"Google"};case"trustpilot":return{color:"#00B67A",initials:"TP",displayName:"Trustpilot"};case"facebook":return{color:"#1877F2",initials:"FB",displayName:"Facebook"};default:return{color:"#9CA3AF",initials:e.substring(0,2).toUpperCase(),displayName:e}}};return f?(0,r.jsxs)(s.Zb,{children:[r.jsx(s.Ol,{children:r.jsx(s.ll,{className:"text-lg",children:"Nyeste eksterne anmeldelser"})}),r.jsx(s.aY,{children:r.jsx("div",{className:"flex justify-center py-4",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})})})]}):p?(0,r.jsxs)(s.Zb,{children:[r.jsx(s.Ol,{children:r.jsx(s.ll,{className:"text-lg",children:"Nyeste eksterne anmeldelser"})}),r.jsx(s.aY,{children:r.jsx("div",{className:"text-red-500 text-sm",children:"Kunne ikke laste anmeldelser"})})]}):(0,r.jsxs)(s.Zb,{children:[r.jsx(s.Ol,{className:"pb-2",children:r.jsx(s.ll,{className:"text-lg",children:"Nyeste eksterne anmeldelser"})}),r.jsx(s.aY,{children:0===e.length?r.jsx("div",{className:"text-center text-gray-500 text-sm py-3",children:"Ingen eksterne anmeldelser funnet"}):(0,r.jsxs)("div",{className:"space-y-4",children:[e.map(e=>{let t=b(e.platform);return(0,r.jsxs)("div",{className:"border-b pb-3 last:border-0",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(l.qE,{className:"h-6 w-6",children:r.jsx(l.Q5,{style:{backgroundColor:t.color,color:"#ffffff",fontSize:"10px"},children:t.initials})}),r.jsx("div",{className:"font-semibold text-sm",children:e.author_name})]}),r.jsx("div",{className:"text-xs text-gray-500",children:x(e.published_at)})]}),(0,r.jsxs)("div",{className:"flex items-center mb-1 ml-8",children:[y(e.rating),r.jsx("span",{className:"ml-2 text-xs text-gray-600 font-medium",children:t.displayName})]}),e.comment&&r.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 ml-8",children:e.comment})]},e.id)}),r.jsx("div",{className:"text-center pt-2",children:r.jsx(d.default,{href:"/dashboard/reviews/external",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Se alle anmeldelser →"})})]})})]})}},63954:(e,t,a)=>{a.d(t,{qE:()=>N,Q5:()=>k});var r=a(95344),n=a(3729),i=a(98462),s=a(2256),l=a(16069),d=a(62409),o=a(8145);function m(){return()=>{}}var u="Avatar",[c,f]=(0,i.b)(u),[h,p]=c(u),g=n.forwardRef((e,t)=>{let{__scopeAvatar:a,...i}=e,[s,l]=n.useState("idle");return(0,r.jsx)(h,{scope:a,imageLoadingStatus:s,onImageLoadingStatusChange:l,children:(0,r.jsx)(d.WV.span,{...i,ref:t})})});g.displayName=u;var v="AvatarImage",x=n.forwardRef((e,t)=>{let{__scopeAvatar:a,src:i,onLoadingStatusChange:u=()=>{},...c}=e,f=p(v,a),h=function(e,{referrerPolicy:t,crossOrigin:a}){let r=(0,o.useSyncExternalStore)(m,()=>!0,()=>!1),i=n.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[d,u]=n.useState(()=>w(s,e));return(0,l.b)(()=>{u(w(s,e))},[s,e]),(0,l.b)(()=>{let e=e=>()=>{u(e)};if(!s)return;let r=e("loaded"),n=e("error");return s.addEventListener("load",r),s.addEventListener("error",n),t&&(s.referrerPolicy=t),"string"==typeof a&&(s.crossOrigin=a),()=>{s.removeEventListener("load",r),s.removeEventListener("error",n)}},[s,a,t]),d}(i,c),g=(0,s.W)(e=>{u(e),f.onImageLoadingStatusChange(e)});return(0,l.b)(()=>{"idle"!==h&&g(h)},[h,g]),"loaded"===h?(0,r.jsx)(d.WV.img,{...c,ref:t,src:i}):null});x.displayName=v;var y="AvatarFallback",b=n.forwardRef((e,t)=>{let{__scopeAvatar:a,delayMs:i,...s}=e,l=p(y,a),[o,m]=n.useState(void 0===i);return n.useEffect(()=>{if(void 0!==i){let e=window.setTimeout(()=>m(!0),i);return()=>window.clearTimeout(e)}},[i]),o&&"loaded"!==l.imageLoadingStatus?(0,r.jsx)(d.WV.span,{...s,ref:t}):null});function w(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}b.displayName=y;var j=a(91626);let N=n.forwardRef(({className:e,...t},a)=>r.jsx(g,{ref:a,className:(0,j.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));N.displayName=g.displayName,n.forwardRef(({className:e,...t},a)=>r.jsx(x,{ref:a,className:(0,j.cn)("aspect-square h-full w-full",e),...t})).displayName=x.displayName;let k=n.forwardRef(({className:e,...t},a)=>r.jsx(b,{ref:a,className:(0,j.cn)("flex h-full w-full items-center justify-center rounded-full bg-gray-100 text-gray-700",e),...t}));k.displayName=b.displayName},61351:(e,t,a)=>{a.d(t,{Ol:()=>l,SZ:()=>o,Zb:()=>s,aY:()=>m,ll:()=>d});var r=a(95344),n=a(3729),i=a(91626);let s=n.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm relative pointer-events-auto",e),...t}));s.displayName="Card";let l=n.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6 pointer-events-auto",e),...t}));l.displayName="CardHeader";let d=n.forwardRef(({className:e,...t},a)=>r.jsx("h3",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let o=n.forwardRef(({className:e,...t},a)=>r.jsx("p",{ref:a,className:(0,i.cn)("text-sm text-gray-500",e),...t}));o.displayName="CardDescription";let m=n.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("p-6 pt-0 pointer-events-auto",e),...t}));m.displayName="CardContent",n.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0 pointer-events-auto",e),...t})).displayName="CardFooter"},30080:(e,t,a)=>{/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=a(3729),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,s=r.useEffect,l=r.useLayoutEffect,d=r.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!n(e,a)}catch(e){return!0}}var m="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),r=i({inst:{value:a,getSnapshot:t}}),n=r[0].inst,m=r[1];return l(function(){n.value=a,n.getSnapshot=t,o(n)&&m({inst:n})},[e,a,t]),s(function(){return o(n)&&m({inst:n}),e(function(){o(n)&&m({inst:n})})},[e]),d(a),a};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:m},8145:(e,t,a)=>{e.exports=a(30080)},88263:(e,t,a)=>{a.d(t,{nb:()=>m});let r={lessThanXSeconds:{one:"mindre enn ett sekund",other:"mindre enn {{count}} sekunder"},xSeconds:{one:"ett sekund",other:"{{count}} sekunder"},halfAMinute:"et halvt minutt",lessThanXMinutes:{one:"mindre enn ett minutt",other:"mindre enn {{count}} minutter"},xMinutes:{one:"ett minutt",other:"{{count}} minutter"},aboutXHours:{one:"omtrent en time",other:"omtrent {{count}} timer"},xHours:{one:"en time",other:"{{count}} timer"},xDays:{one:"en dag",other:"{{count}} dager"},aboutXWeeks:{one:"omtrent en uke",other:"omtrent {{count}} uker"},xWeeks:{one:"en uke",other:"{{count}} uker"},aboutXMonths:{one:"omtrent en m\xe5ned",other:"omtrent {{count}} m\xe5neder"},xMonths:{one:"en m\xe5ned",other:"{{count}} m\xe5neder"},aboutXYears:{one:"omtrent ett \xe5r",other:"omtrent {{count}} \xe5r"},xYears:{one:"ett \xe5r",other:"{{count}} \xe5r"},overXYears:{one:"over ett \xe5r",other:"over {{count}} \xe5r"},almostXYears:{one:"nesten ett \xe5r",other:"nesten {{count}} \xe5r"}};var n=a(45324);let i={date:(0,n.l)({formats:{full:"EEEE d. MMMM y",long:"d. MMMM y",medium:"d. MMM y",short:"dd.MM.y"},defaultWidth:"full"}),time:(0,n.l)({formats:{full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,n.l)({formats:{full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},s={lastWeek:"'forrige' eeee 'kl.' p",yesterday:"'i g\xe5r kl.' p",today:"'i dag kl.' p",tomorrow:"'i morgen kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"};var l=a(69419);let d={ordinalNumber:(e,t)=>Number(e)+".",era:(0,l.Y)({values:{narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["f\xf8r Kristus","etter Kristus"]},defaultWidth:"wide"}),quarter:(0,l.Y)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,l.Y)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","mai","juni","juli","aug.","sep.","okt.","nov.","des."],wide:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]},defaultWidth:"wide"}),day:(0,l.Y)({values:{narrow:["S","M","T","O","T","F","L"],short:["s\xf8","ma","ti","on","to","fr","l\xf8"],abbreviated:["s\xf8n","man","tir","ons","tor","fre","l\xf8r"],wide:["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"]},defaultWidth:"wide"}),dayPeriod:(0,l.Y)({values:{narrow:{am:"a",pm:"p",midnight:"midnatt",noon:"middag",morning:"p\xe5 morg.",afternoon:"p\xe5 etterm.",evening:"p\xe5 kvelden",night:"p\xe5 natten"},abbreviated:{am:"a.m.",pm:"p.m.",midnight:"midnatt",noon:"middag",morning:"p\xe5 morg.",afternoon:"p\xe5 etterm.",evening:"p\xe5 kvelden",night:"p\xe5 natten"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnatt",noon:"middag",morning:"p\xe5 morgenen",afternoon:"p\xe5 ettermiddagen",evening:"p\xe5 kvelden",night:"p\xe5 natten"}},defaultWidth:"wide"})};var o=a(76006);let m={code:"nb",formatDistance:(e,t,a)=>{let n;let i=r[e];return(n="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",String(t)),a?.addSuffix)?a.comparison&&a.comparison>0?"om "+n:n+" siden":n},formatLong:i,formatRelative:(e,t,a,r)=>s[e],localize:d,match:{ordinalNumber:(0,a(64832).y)({matchPattern:/^(\d+)\.?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,o.t)({matchPatterns:{narrow:/^(f\.? ?Kr\.?|fvt\.?|e\.? ?Kr\.?|evt\.?)/i,abbreviated:/^(f\.? ?Kr\.?|fvt\.?|e\.? ?Kr\.?|evt\.?)/i,wide:/^(før Kristus|før vår tid|etter Kristus|vår tid)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^f/i,/^e/i]},defaultParseWidth:"any"}),quarter:(0,o.t)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? kvartal/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,o.t)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mars?|apr|mai|juni?|juli?|aug|sep|okt|nov|des)\.?/i,wide:/^(januar|februar|mars|april|mai|juni|juli|august|september|oktober|november|desember)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^aug/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,o.t)({matchPatterns:{narrow:/^[smtofl]/i,short:/^(sø|ma|ti|on|to|fr|lø)/i,abbreviated:/^(søn|man|tir|ons|tor|fre|lør)/i,wide:/^(søndag|mandag|tirsdag|onsdag|torsdag|fredag|lørdag)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},defaultParseWidth:"any"}),dayPeriod:(0,o.t)({matchPatterns:{narrow:/^(midnatt|middag|(på) (morgenen|ettermiddagen|kvelden|natten)|[ap])/i,any:/^([ap]\.?\s?m\.?|midnatt|middag|(på) (morgenen|ettermiddagen|kvelden|natten))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a(\.?\s?m\.?)?$/i,pm:/^p(\.?\s?m\.?)?$/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgen/i,afternoon:/ettermiddag/i,evening:/kveld/i,night:/natt/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}}}};