(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{37647:function(e,t,s){Promise.resolve().then(s.bind(s,79013))},79013:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return K}});var a=s(57437),r=s(2265),n=s(47907),i=s(58714),l=s(27815),o=s(47788),c=s(79580),d=s(28745),m=s(25491),x=s(85754),u=s(67366),p=s(75879),g=s(61037),h=s(18025);function f(e){let{onNext:t}=e,s=[{icon:(0,a.jsx)(u.Z,{className:"h-6 w-6 text-blue-500"}),title:"Samle anmeldelser",description:"F\xe5 flere anmeldelser fra forn\xf8yde kunder ved \xe5 sende automatiske foresp\xf8rsler."},{icon:(0,a.jsx)(p.Z,{className:"h-6 w-6 text-yellow-500"}),title:"Forbedre omd\xf8mme",description:"Bygge tillit og troverdighet gjennom kundeanmeldelser p\xe5 tvers av plattformer."},{icon:(0,a.jsx)(g.Z,{className:"h-6 w-6 text-green-500"}),title:"Innsikt og analyse",description:"F\xe5 verdifull innsikt i kundenes opplevelser og ta databaserte beslutninger."}];return(0,a.jsxs)(m.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Velkommen"}),(0,a.jsx)("p",{className:"text-gray-600",children:"La oss hjelpe deg med \xe5 samle flere gode anmeldelser for din bedrift"})]}),(0,a.jsx)("div",{className:"grid gap-4 py-4",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]})]},t))}),(0,a.jsx)("div",{className:"pt-4 flex justify-end",children:(0,a.jsxs)(x.z,{onClick:t,className:"bg-blue-600 hover:bg-blue-700 text-white",children:["Kom i gang",(0,a.jsx)(h.Z,{className:"ml-2 h-4 w-4"})]})})]})}var j=s(45179),N=s(49842),v=s(77326),y=s(11213),b=s(93151),w=s(53879),k=s(1657);function C(e){let{initialData:t,onComplete:s,onBack:n}=e,[i,l]=(0,r.useState)(t.companyName||""),[o,c]=(0,r.useState)(t.contactName||""),[d,u]=(0,r.useState)(t.industry||""),[p,g]=(0,r.useState)({companyName:"",contactName:"",industry:""}),f=()=>{let e={companyName:i.trim()?"":"Firmanavn er p\xe5krevd",contactName:o.trim()?"":"Kontaktperson er p\xe5krevd",industry:d.trim()?"":"Bransje er p\xe5krevd"};return g(e),!Object.values(e).some(e=>e)};return(0,a.jsxs)(m.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:"Fortell oss om din bedrift"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Vi trenger litt informasjon for \xe5 tilpasse l\xf8sningen til din bedrift"})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f()&&s({companyName:i.trim(),contactName:o.trim(),industry:d.trim()})},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(N._,{htmlFor:"companyName",className:(0,k.cn)(p.companyName&&"text-red-500"),children:"Firmanavn"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j.I,{id:"companyName",placeholder:"Bedriftens navn",value:i,onChange:e=>l(e.target.value),className:(0,k.cn)("pl-10",p.companyName&&"border-red-500 focus-visible:ring-red-500")}),(0,a.jsx)(v.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),p.companyName&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:p.companyName})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(N._,{htmlFor:"contactName",className:(0,k.cn)(p.contactName&&"text-red-500"),children:"Kontaktperson"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j.I,{id:"contactName",placeholder:"Ditt navn",value:o,onChange:e=>c(e.target.value),className:(0,k.cn)("pl-10",p.contactName&&"border-red-500 focus-visible:ring-red-500")}),(0,a.jsx)(y.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),p.contactName&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:p.contactName})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(N._,{htmlFor:"industry",className:(0,k.cn)(p.industry&&"text-red-500"),children:"Bransje"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j.I,{id:"industry",placeholder:"F.eks. Fris\xf8r, Restaurant, Eiendomsmegler",value:d,onChange:e=>u(e.target.value),className:(0,k.cn)("pl-10",p.industry&&"border-red-500 focus-visible:ring-red-500")}),(0,a.jsx)(b.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),p.industry&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:p.industry})]}),(0,a.jsxs)("div",{className:"pt-4 flex justify-between",children:[(0,a.jsxs)(x.z,{type:"button",onClick:n,variant:"outline",className:"flex items-center",children:[(0,a.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Tilbake"]}),(0,a.jsxs)(x.z,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center",children:["Fortsett",(0,a.jsx)(h.Z,{className:"ml-2 h-4 w-4"})]})]})]})]})}function Z(e){let{onNext:t,onBack:s}=e,[n,i]=(0,r.useState)({name:"",email:""}),[l,o]=(0,r.useState)({}),c=()=>{let e={};return n.name.trim()||(e.name="Navn er p\xe5krevd"),n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(e.email="Ugyldig e-post format"):e.email="E-post er p\xe5krevd",o(e),0===Object.keys(e).length},d=e=>{let{name:t,value:s}=e.target;i(e=>({...e,[t]:s})),l[t]&&o(e=>({...e,[t]:void 0}))};return(0,a.jsxs)(m.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-6 py-2",children:[(0,a.jsxs)("div",{className:"text-center space-y-2 mb-4",children:[(0,a.jsx)("h3",{className:"text-xl font-medium text-gray-800",children:"Legg til din f\xf8rste kunde"}),(0,a.jsx)("p",{className:"text-gray-600",children:"La oss gj\xf8re det enkelt for deg \xe5 komme i gang"})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c()&&t({name:n.name,email:n.email})},className:"space-y-5",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(N._,{htmlFor:"name",children:"Navn"}),(0,a.jsx)(j.I,{id:"name",name:"name",placeholder:"Ola Nordmann",value:n.name,onChange:d,className:l.name?"border-red-500":""}),l.name&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:l.name})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(N._,{htmlFor:"email",children:"E-post"}),(0,a.jsx)(j.I,{id:"email",name:"email",type:"email",placeholder:"ola@bedrift.no",value:n.email,onChange:d,className:l.email?"border-red-500":""}),l.email&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:l.email})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-6",children:[(0,a.jsxs)(x.z,{type:"button",onClick:s,variant:"outline",className:"flex items-center",children:[(0,a.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Tilbake"]}),(0,a.jsxs)(x.z,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",children:["Fortsett",(0,a.jsx)(h.Z,{className:"ml-2 h-4 w-4"})]})]})]})]})}var T=s(37451);function S(e){let{onNext:t,onBack:s,initialValue:n}=e,[i,o]=(0,r.useState)(n),c=[{id:"google",title:"Google Anmeldelser",description:"F\xe5 kunder til \xe5 gi anmeldelser p\xe5 Google som \xf8ker din synlighet i s\xf8keresultater.",icon:(0,a.jsx)(p.Z,{className:"h-8 w-8 text-yellow-500"})},{id:"trustpilot",title:"Trustpilot",description:"Be om anmeldelser p\xe5 Trustpilot for \xe5 styrke din bedrifts omd\xf8mme.",icon:(0,a.jsx)(p.Z,{className:"h-8 w-8 text-green-500"})},{id:"custom",title:"Egendefinert",description:"Sett opp en tilpasset anmeldelsesl\xf8sning for din egen nettside eller annen plattform.",icon:(0,a.jsx)(T.Z,{className:"h-8 w-8 text-blue-500"})}];return(0,a.jsxs)(m.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-6 py-2",children:[(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("h3",{className:"text-xl font-medium text-gray-800",children:"Hvilken type anmeldelser vil du samle?"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Velg plattformen som passer best for din bedrift."})]}),(0,a.jsx)("div",{className:"grid gap-4",children:c.map(e=>(0,a.jsx)(l.Zb,{className:"p-4 cursor-pointer transition-all ".concat(i===e.id?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"),onClick:()=>o(e.id),children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:e.icon}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),(0,a.jsx)("div",{className:"flex-shrink-0 self-center",children:(0,a.jsx)("div",{className:"w-5 h-5 rounded-full border ".concat(i===e.id?"border-blue-500 bg-blue-500":"border-gray-300"," flex items-center justify-center"),children:i===e.id&&(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"})})})]})},e.id))}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,a.jsxs)(x.z,{type:"button",onClick:s,variant:"outline",className:"flex items-center",children:[(0,a.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Tilbake"]}),(0,a.jsxs)(x.z,{onClick:()=>{i&&t(i)},disabled:!i,className:"bg-blue-600 hover:bg-blue-700 text-white",children:["Fortsett",(0,a.jsx)(h.Z,{className:"ml-2 h-4 w-4"})]})]})]})}var E=s(81708),_=s(92466),F=s(80037);let L=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(_.fC,{ref:t,className:(0,k.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-blue-600 data-[state=checked]:text-white",s),...r,children:(0,a.jsx)(_.z$,{className:(0,k.cn)("flex items-center justify-center"),children:(0,a.jsx)(F.Z,{className:"h-3 w-3"})})})});function P(e){let{onNext:t,onBack:s,reviewType:n,initialValue:i=""}=e,[l,o]=(0,r.useState)(!!i),[c,d]=(0,r.useState)(i),[u,p]=(0,r.useState)("");return(0,a.jsxs)(m.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:(()=>{switch(n){case"google":return"Legg til din Google-anmeldelseslenke";case"trustpilot":return"Legg til din Trustpilot-anmeldelseslenke";case"custom":return"Legg til din anmeldelseslenke";default:return"Legg til anmeldelseslenke"}})()}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:(()=>{switch(n){case"google":return"Lenken hvor kundene dine kan legge igjen en Google-anmeldelse";case"trustpilot":return"Lenken hvor kundene dine kan legge igjen en Trustpilot-anmeldelse";default:return"Lenken hvor kundene dine kan legge igjen en anmeldelse"}})()})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(L,{id:"hasReviewLink",checked:l,onCheckedChange:e=>o(!0===e),className:"mt-1"}),(0,a.jsx)(N._,{htmlFor:"hasReviewLink",className:"text-sm font-medium leading-none cursor-pointer",children:"Jeg har en anmeldelsesside jeg \xf8nsker \xe5 bruke (f.eks. Google, Trustpilot, Yelp)"})]}),l&&(0,a.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,a.jsx)(N._,{htmlFor:"reviewLink",children:"Anmeldelseslenke"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j.I,{id:"reviewLink",placeholder:"https://g.page/bedrift/review",value:c,onChange:e=>d(e.target.value),className:u?"border-red-500":""}),(0,a.jsx)(E.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),u&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:u}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Du kan legge til eller endre denne lenken senere fra innstillinger."})]}),l&&"custom"!==n&&(0,a.jsxs)("div",{className:"pt-2 text-sm text-gray-500",children:[(0,a.jsx)("p",{children:"Tips:"}),"google"===n&&(0,a.jsxs)("ul",{className:"list-disc pl-5 mt-1 space-y-1",children:[(0,a.jsx)("li",{children:"G\xe5 til Google My Business"}),(0,a.jsx)("li",{children:'Velg "Del anmeldelsesform" og kopier lenken'})]}),"trustpilot"===n&&(0,a.jsxs)("ul",{className:"list-disc pl-5 mt-1 space-y-1",children:[(0,a.jsx)("li",{children:"G\xe5 til din Trustpilot profil"}),(0,a.jsx)("li",{children:"Kopier URL-en fra nettleseren"})]})]})]}),(0,a.jsxs)("div",{className:"pt-4 flex justify-between",children:[(0,a.jsxs)(x.z,{type:"button",onClick:s,variant:"outline",className:"flex items-center",children:[(0,a.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Tilbake"]}),(0,a.jsxs)(x.z,{type:"button",onClick:()=>{if(p(""),l&&c.trim())try{new URL(c),t(c)}catch(e){p("Vennligst oppgi en gyldig URL (inkluder https://)")}else t("")},className:"bg-blue-600 hover:bg-blue-700 text-white",children:["Fortsett",(0,a.jsx)(h.Z,{className:"ml-2 h-4 w-4"})]})]})]})}L.displayName=_.fC.displayName;var R=s(20703),z=s(28670),I=s(75707),D=s(77252),B=s(34187);function O(e){let{onComplete:t,onBack:s,initialPlatforms:n=[]}=e,[i,o]=(0,r.useState)(n),[c,d]=(0,r.useState)({}),g=[{id:"google",name:"Google Reviews",logo:"/images/google.svg",fallbackIcon:(0,a.jsx)(z.Z,{className:"h-6 w-6 text-blue-500"})},{id:"facebook",name:"Facebook",logo:"/images/facebook.svg",fallbackIcon:(0,a.jsx)(I.Z,{className:"h-6 w-6 text-blue-600"})},{id:"trustpilot",name:"Trustpilot",logo:"/images/trustpilot.svg",fallbackIcon:(0,a.jsx)(p.Z,{className:"h-6 w-6 text-green-500"})},{id:"yelp",name:"Yelp",logo:"/images/yelp.svg",fallbackIcon:(0,a.jsx)(u.Z,{className:"h-6 w-6 text-red-600"})},{id:"other",name:"Other",fallbackIcon:(0,a.jsx)(D.Z,{className:"h-6 w-6 text-gray-500"})}],h=e=>{o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},f=e=>{d(t=>({...t,[e]:!0}))};return(0,a.jsxs)(m.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Velg dine anmeldelsesplattformer"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Velg plattformene du vil samle og administrere anmeldelser fra."})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:g.map(e=>(0,a.jsx)(l.Zb,{className:"p-4 cursor-pointer hover:border-primary transition-colors ".concat(i.includes(e.id)?"border-primary bg-primary/5":""),onClick:()=>h(e.id),children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-3 p-2",children:[e.logo&&!c[e.id]?(0,a.jsx)("div",{className:"h-12 w-12 relative",children:(0,a.jsx)(R.default,{src:e.logo,alt:"".concat(e.name," logo"),width:48,height:48,className:"object-contain",onError:()=>f(e.id)})}):(0,a.jsx)("div",{className:"h-12 w-12 flex items-center justify-center bg-muted rounded-full",children:e.fallbackIcon}),(0,a.jsx)("span",{className:"font-medium",children:e.name}),i.includes(e.id)&&(0,a.jsx)(B.Z,{className:"h-5 w-5 text-primary absolute top-2 right-2"})]})},e.id))}),(0,a.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,a.jsx)(x.z,{variant:"outline",onClick:s,children:"Tilbake"}),(0,a.jsx)(x.z,{onClick:()=>{i.length>0&&t(i)},disabled:0===i.length,children:"Fortsett"})]})]})}var V=s(37805);function G(e){var t;let{onboardingData:s,onComplete:r,onBack:n,isSubmitting:i}=e;return(0,a.jsxs)(m.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:"Oppsummering"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Takk for at du fullf\xf8rte onboarding. Her er informasjonen vi har samlet:"})]}),(0,a.jsxs)("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"bg-green-100 rounded-full p-1 mt-0.5",children:(0,a.jsx)(F.Z,{className:"h-4 w-4 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-700",children:"Bedriftsinformasjon"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[s.companyName," - ",s.industry]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Kontakt: ",s.contactName]})]})]}),s.customer&&(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"bg-green-100 rounded-full p-1 mt-0.5",children:(0,a.jsx)(F.Z,{className:"h-4 w-4 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-700",children:"Kundeinformasjon"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[s.customer.name," - ",s.customer.email]})]})]}),s.reviewPlatforms&&s.reviewPlatforms.length>0&&(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"bg-green-100 rounded-full p-1 mt-0.5",children:(0,a.jsx)(F.Z,{className:"h-4 w-4 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-700",children:"Anmeldelsesplattformer"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:(t=s.reviewPlatforms)&&0!==t.length?t.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", "):"Ingen valgt"})]})]}),s.reviewType&&(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"bg-green-100 rounded-full p-1 mt-0.5",children:(0,a.jsx)(F.Z,{className:"h-4 w-4 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-700",children:"Anmeldelsestype"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["google"===s.reviewType&&"Google anmeldelser","trustpilot"===s.reviewType&&"Trustpilot","custom"===s.reviewType&&"Egen lenke"]})]})]}),s.reviewLink&&(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"bg-green-100 rounded-full p-1 mt-0.5",children:(0,a.jsx)(F.Z,{className:"h-4 w-4 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-700",children:"Anmeldelseslenke"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 break-all",children:s.reviewLink})]})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Du kan endre disse innstillingene senere i din profil."})}),(0,a.jsxs)("div",{className:"pt-4 flex justify-between",children:[(0,a.jsxs)(x.z,{type:"button",onClick:n,variant:"outline",className:"flex items-center",children:[(0,a.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Tilbake"]}),(0,a.jsx)(x.z,{type:"button",onClick:r,className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:i,children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Fullf\xf8rer..."]}):(0,a.jsxs)(a.Fragment,{children:["Til dashbordet",(0,a.jsx)(V.Z,{className:"ml-2 h-4 w-4"})]})})]})]})}function U(){let e=(0,n.useRouter)(),{toast:t}=(0,o.p)(),s=(0,i.createClientComponentClient)(),[x,u]=(0,r.useState)(0),[p,g]=(0,r.useState)({}),[h,j]=(0,r.useState)(!1),N=()=>u(e=>e+1),v=()=>u(e=>e-1),y=e=>{g(t=>({...t,...e}))},b=e=>{y(e),N()},w=e=>{y({customer:e}),N()},k=e=>{y({reviewType:e}),N()},T=e=>{y({reviewLink:e}),N()},E=async e=>{j(!0);try{y({reviewPlatforms:e});let{data:{user:t}}=await s.auth.getUser();if(!t)throw Error("No authenticated user found");await s.from("profiles").upsert({id:t.id,onboarding_completed:!0,connected_review_platforms:e,company_name:p.companyName,industry:p.industry,full_name:p.contactName}),N()}catch(e){console.error("Error completing onboarding:",e),t({title:"Error",description:"Could not save your platform selections. Please try again.",variant:"destructive"})}finally{j(!1)}},_=async()=>{j(!0);try{let{data:{user:t}}=await s.auth.getUser();if(!t)throw Error("No authenticated user found");await s.from("profiles").upsert({id:t.id,onboarding_completed:!0,company_name:p.companyName,industry:p.industry,full_name:p.contactName}),e.push("/dashboard")}catch(e){console.error("Error completing onboarding:",e),t({title:"Error",description:"Could not complete onboarding. Please try again.",variant:"destructive"})}finally{j(!1)}};return(0,a.jsx)(l.Zb,{className:"w-full max-w-2xl mx-auto shadow-lg",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-8",children:["Welcome","Company Info","Customer","Review Type","Review Link","Platforms","Complete"].map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm ".concat(x>=t?"bg-primary text-white":"bg-gray-200 text-gray-500"),children:t+1}),(0,a.jsx)("span",{className:"text-xs mt-1",children:e})]},t))}),(0,a.jsx)(d.M,{mode:"wait",children:(0,a.jsx)(m.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:h?(0,a.jsxs)("div",{className:"flex flex-col items-center py-12",children:[(0,a.jsx)(c.Z,{className:"w-12 h-12 animate-spin text-primary mb-4"}),(0,a.jsx)("p",{className:"text-lg",children:"Processing your information..."})]}):(()=>{switch(x){case 0:return(0,a.jsx)(f,{onNext:N});case 1:return(0,a.jsx)(C,{initialData:p,onComplete:b,onBack:v});case 2:return(0,a.jsx)(Z,{onNext:w,onBack:v});case 3:return(0,a.jsx)(S,{onNext:k,onBack:v,initialValue:p.reviewType});case 4:return(0,a.jsx)(P,{onNext:T,onBack:v,reviewType:p.reviewType||"custom",initialValue:p.reviewLink});case 5:return(0,a.jsx)(O,{onComplete:E,onBack:v,initialPlatforms:p.reviewPlatforms});case 6:return(0,a.jsx)(G,{onboardingData:p,onComplete:_,onBack:v,isSubmitting:h});default:return null}})()},x)})]})})}var A=s(62985);function K(){let e=(0,n.useRouter)(),t=(0,i.createClientComponentClient)(),[s,l]=(0,r.useState)(!0),[o,d]=(0,r.useState)(!1),[m,x]=(0,r.useState)(null),[u,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{console.log("Onboarding page mounted - checking auth and onboarding status"),async function(){try{console.log("Checking session status...");let{data:{session:s},error:a}=await t.auth.getSession();if(a){console.error("Session error:",a.message),x({message:"Det oppstod en feil ved innhenting av sesjonsinformasjon. Pr\xf8v \xe5 logge inn p\xe5 nytt.",action:()=>e.push("/login")}),l(!1);return}if(!(null==s?void 0:s.user)){console.log("No active session, redirecting to login"),e.push("/login");return}console.log("Session found for user ID:",s.user.id);try{console.log("Checking if profile exists...");let{data:a,error:r}=await t.from("profiles").select("onboarding_completed").eq("id",s.user.id).maybeSingle();if(console.log("\uD83D\uDD0D Profil-data:",a),console.log("⚠️ Profil-feil:",r),r){if(console.error("Profile fetch error:",r),"PGRST116"===r.code){console.log("❗Ingen profil funnet – oppretter ny");try{let{error:e}=await t.from("profiles").insert({id:s.user.id,email:s.user.email,onboarding_completed:!1,connected_review_platforms:[]});if(e){console.error("Error creating profile:",e),x({message:"Kunne ikke opprette brukerprofil. Pr\xf8v igjen senere.",action:()=>g()}),l(!1);return}console.log("New profile created successfully, showing onboarding wizard"),d(!0),l(!1);return}catch(e){console.error("Unexpected error creating profile:",e),x({message:"En uventet feil oppstod. Pr\xf8v igjen senere.",action:()=>g()}),l(!1);return}}else{console.error("Other profile error:",r.message),x({message:"Det oppstod en feil ved innhenting av profilinformasjon. Pr\xf8v igjen senere.",action:()=>g()}),l(!1);return}}console.log("Profile data:",a),(null==a?void 0:a.onboarding_completed)?(console.log("Onboarding already completed, redirecting to dashboard"),e.push("/dashboard")):(console.log("Onboarding not completed, showing onboarding wizard"),d(!0),l(!1))}catch(e){console.error("Unexpected error checking profile:",e),x({message:"En uventet feil oppstod ved sjekk av brukerprofil. Pr\xf8v igjen senere.",action:()=>g()}),l(!1)}}catch(e){console.error("Unexpected error in checkOnboarding:",e),x({message:"En uventet feil oppstod. Pr\xf8v igjen senere.",action:()=>g()}),l(!1)}}();let a=setTimeout(()=>{s&&(console.warn("Loading timeout reached, displaying fallback"),l(!1),x({message:"Lasting tok for lang tid. Vennligst pr\xf8v igjen.",action:()=>g()}))},1e4);return()=>clearTimeout(a)},[e,u]);let g=()=>{console.log("Retrying onboarding check..."),l(!0),x(null),p(!u)};return s?(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gradient-to-b from-blue-50 to-white",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c.Z,{className:"h-10 w-10 animate-spin text-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Laster onboarding..."})]})}):m?(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gradient-to-b from-blue-50 to-white",children:(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto text-center",children:[(0,a.jsx)(A.Z,{className:"h-10 w-10 text-red-500 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-lg font-medium text-red-800 mb-2",children:"Noe gikk galt"}),(0,a.jsx)("p",{className:"text-red-700 mb-4",children:m.message}),m.action&&(0,a.jsx)("button",{onClick:m.action,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Pr\xf8v igjen"})]})}):o?(0,a.jsx)(U,{}):(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gradient-to-b from-blue-50 to-white",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c.Z,{className:"h-10 w-10 animate-spin text-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Forbereder onboarding..."})]})})}},85754:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var a=s(57437),r=s(2265),n=s(59143),i=s(49769),l=s(1657);let o=(0,i.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 relative",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-blue-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:c=!1,disabled:d,...m}=e,x=c?n.g7:"button";return(0,a.jsx)(x,{className:(0,l.cn)(o({variant:r,size:i,className:s}),d?"pointer-events-none":"pointer-events-auto"),ref:t,disabled:d,...m})});c.displayName="Button"},27815:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var a=s(57437),r=s(2265),n=s(1657);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm relative pointer-events-auto",s),...r})});i.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6 pointer-events-auto",s),...r})});l.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-gray-500",s),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0 pointer-events-auto",s),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0 pointer-events-auto",s),...r})}).displayName="CardFooter"},45179:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var a=s(57437),r=s(2265),n=s(1657);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},49842:function(e,t,s){"use strict";s.d(t,{_:function(){return c}});var a=s(57437),r=s(2265),n=s(24602),i=s(49769),l=s(1657);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,l.cn)(o(),s),...r})});c.displayName=n.f.displayName},47788:function(e,t,s){"use strict";s.d(t,{p:function(){return i}});var a=s(2265);let r=0,n=a.createContext({toasts:[],addToast:()=>{},updateToast:()=>{},dismissToast:()=>{},removeToast:()=>{}}),i=()=>{let{toasts:e,addToast:t,updateToast:s,dismissToast:i,removeToast:l}=a.useContext(n);return{toasts:e,toast:e=>{let a=(r=(r+1)%Number.MAX_VALUE).toString();return t({...e,id:a,open:!0}),{id:a,update:e=>s({...e,id:a}),dismiss:()=>i(a)}},dismiss:e=>i(e)}}},1657:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(75504),r=s(51367);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[714,150,982,971,69,744],function(){return e(e.s=37647)}),_N_E=e.O()}]);