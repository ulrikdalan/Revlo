(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[921],{85520:function(e,s,t){Promise.resolve().then(t.bind(t,29630))},29630:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var r=t(57437),n=t(2265),a=t(58714),l=t(47907),o=t(8792);function i(){let[e,s]=(0,n.useState)(""),[t,i]=(0,n.useState)(""),[d,u]=(0,n.useState)(null),[c,m]=(0,n.useState)(null),[p,x]=(0,n.useState)(!1),h=(0,l.useRouter)(),f=(0,a.createClientComponentClient)(),g=async s=>{if(s.preventDefault(),m(null),u(null),x(!0),e!==t){m("Passordene samsvarer ikke."),x(!1);return}try{let{error:s}=await f.auth.updateUser({password:e});if(s){m(s.message);return}u("Passordet ditt har blitt oppdatert."),setTimeout(()=>{h.push("/login")},2e3)}catch(e){console.error("Update password error:",e),m("Noe gikk galt. Vennligst pr\xf8v igjen.")}finally{x(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Oppdater passordet ditt"}),(0,r.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Skriv inn ditt nye passord."})]}),d?(0,r.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-green-800",children:d}),(0,r.jsx)("p",{className:"text-sm text-green-700 mt-2",children:"Omdirigerer til innloggingssiden..."})]})})}):(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:g,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Nytt passord"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:e,onChange:e=>s(e.target.value),minLength:6})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Bekreft nytt passord"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:t,onChange:e=>i(e.target.value),minLength:6})})]}),c&&(0,r.jsx)("div",{className:"text-red-500 text-sm",children:c}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:p,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:p?"Oppdaterer...":"Oppdater passord"})})]}),(0,r.jsx)("div",{className:"text-sm text-center",children:(0,r.jsx)(o.default,{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Tilbake til innlogging"})})]})})}},47907:function(e,s,t){"use strict";var r=t(15313);t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[714,792,971,69,744],function(){return e(e.s=85520)}),_N_E=e.O()}]);