(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25],{21692:function(e,t,r){Promise.resolve().then(r.bind(r,9429)),Promise.resolve().then(r.t.bind(r,25250,23)),Promise.resolve().then(r.bind(r,19721))},9429:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var s=r(57437),l=r(2265),a=r(58714),n=r(27815),i=r(50660),c=r(8792),o=r(49231),d=r(18194),u=r(1657);function f(){let[e,t]=(0,l.useState)([]),[r,f]=(0,l.useState)([]),[m,x]=(0,l.useState)(!0),[p,h]=(0,l.useState)(null),N=(0,a.createClientComponentClient)();(0,l.useEffect)(()=>{!async function(){x(!0);try{let{data:{session:e}}=await N.auth.getSession();if(!e)return;let r=e.user.id,{data:s,error:l}=await N.from("platforms").select("*").order("name");l||f(s||[]);let{data:a,error:n}=await N.from("external_reviews").select("*").eq("user_id",r).order("published_at",{ascending:!1}).limit(3);if(n)throw n;t(a||[])}catch(e){console.error("Error fetching recent external reviews:",e),h(e.message)}finally{x(!1)}}()},[N]);let y=e=>(0,o.WU)(new Date(e),"d. MMM yyyy",{locale:d.nb}),j=e=>(0,s.jsx)("div",{className:"flex",children:[1,2,3,4,5].map(t=>(0,s.jsx)("span",{className:(0,u.cn)("text-sm",t<=e?"text-yellow-500":"text-gray-300"),children:"★"},t))}),b=e=>{let t=r.find(t=>t.name.toLowerCase()===e.toLowerCase());if(t)return{color:t.color||"#e5e7eb",initials:t.icon||t.name.substring(0,1).toUpperCase(),displayName:t.display_name||e};switch(e.toLowerCase()){case"google":return{color:"#4285F4",initials:"G",displayName:"Google"};case"trustpilot":return{color:"#00B67A",initials:"TP",displayName:"Trustpilot"};case"facebook":return{color:"#1877F2",initials:"FB",displayName:"Facebook"};default:return{color:"#9CA3AF",initials:e.substring(0,2).toUpperCase(),displayName:e}}};return m?(0,s.jsxs)(n.Zb,{children:[(0,s.jsx)(n.Ol,{children:(0,s.jsx)(n.ll,{className:"text-lg",children:"Nyeste eksterne anmeldelser"})}),(0,s.jsx)(n.aY,{children:(0,s.jsx)("div",{className:"flex justify-center py-4",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})})})]}):p?(0,s.jsxs)(n.Zb,{children:[(0,s.jsx)(n.Ol,{children:(0,s.jsx)(n.ll,{className:"text-lg",children:"Nyeste eksterne anmeldelser"})}),(0,s.jsx)(n.aY,{children:(0,s.jsx)("div",{className:"text-red-500 text-sm",children:"Kunne ikke laste anmeldelser"})})]}):(0,s.jsxs)(n.Zb,{children:[(0,s.jsx)(n.Ol,{className:"pb-2",children:(0,s.jsx)(n.ll,{className:"text-lg",children:"Nyeste eksterne anmeldelser"})}),(0,s.jsx)(n.aY,{children:0===e.length?(0,s.jsx)("div",{className:"text-center text-gray-500 text-sm py-3",children:"Ingen eksterne anmeldelser funnet"}):(0,s.jsxs)("div",{className:"space-y-4",children:[e.map(e=>{let t=b(e.platform);return(0,s.jsxs)("div",{className:"border-b pb-3 last:border-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.qE,{className:"h-6 w-6",children:(0,s.jsx)(i.Q5,{style:{backgroundColor:t.color,color:"#ffffff",fontSize:"10px"},children:t.initials})}),(0,s.jsx)("div",{className:"font-semibold text-sm",children:e.author_name})]}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:y(e.published_at)})]}),(0,s.jsxs)("div",{className:"flex items-center mb-1 ml-8",children:[j(e.rating),(0,s.jsx)("span",{className:"ml-2 text-xs text-gray-600 font-medium",children:t.displayName})]}),e.comment&&(0,s.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2 ml-8",children:e.comment})]},e.id)}),(0,s.jsx)("div",{className:"text-center pt-2",children:(0,s.jsx)(c.default,{href:"/dashboard/reviews/external",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Se alle anmeldelser →"})})]})})]})}},50660:function(e,t,r){"use strict";r.d(t,{Q5:function(){return c},qE:function(){return i}});var s=r(57437),l=r(2265),a=r(27733),n=r(1657);let i=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)(a.fC,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...l})});i.displayName=a.fC.displayName,l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)(a.Ee,{ref:t,className:(0,n.cn)("aspect-square h-full w-full",r),...l})}).displayName=a.Ee.displayName;let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)(a.NY,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-gray-100 text-gray-700",r),...l})});c.displayName=a.NY.displayName},27815:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return n},aY:function(){return d},ll:function(){return c}});var s=r(57437),l=r(2265),a=r(1657);let n=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm relative pointer-events-auto",r),...l})});n.displayName="Card";let i=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6 pointer-events-auto",r),...l})});i.displayName="CardHeader";let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...l})});c.displayName="CardTitle";let o=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-gray-500",r),...l})});o.displayName="CardDescription";let d=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0 pointer-events-auto",r),...l})});d.displayName="CardContent",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0 pointer-events-auto",r),...l})}).displayName="CardFooter"},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(75504),l=r(51367);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.m6)((0,s.W)(t))}},19721:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return l}});let s=r(99775);function l(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new s.BailoutToCSRError(t);return r}}},function(e){e.O(0,[714,792,150,231,7,971,69,744],function(){return e(e.s=21692)}),_N_E=e.O()}]);