(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[936],{86147:function(e,r,t){Promise.resolve().then(t.bind(t,36543))},18087:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return i}});var a=t(57437),s=t(8792),n=t(47907),l=t(1657);function i(){let e=(0,n.usePathname)();return(0,a.jsxs)("div",{className:"bg-white rounded shadow p-4 mb-6",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(s.default,{href:"/dashboard",className:"text-blue-600 hover:underline",children:"← Tilbake til dashboard"})}),(0,a.jsx)("div",{className:"flex space-x-4 border-b border-gray-200",children:[{name:"Admin Dashboard",href:"/dashboard/admin"},{name:"Eksterne anmeldelser",href:"/dashboard/admin/reviews"},{name:"Review Platforms",href:"/dashboard/admin/external-platforms"}].map(r=>(0,a.jsx)(s.default,{href:r.href,className:(0,l.cn)("px-3 py-2 text-sm font-medium border-b-2 -mb-px transition-colors",e===r.href?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:r.name},r.href))})]})}},36543:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return m}});var a=t(57437),s=t(2265),n=t(47907),l=t(58714),i=t(27815),d=t(50660),c=t(1657),o=t(49231),u=t(18194),f=t(18087);function m(){let e=(0,n.useRouter)(),[r,t]=(0,s.useState)([]),[m,x]=(0,s.useState)(!0),[h,b]=(0,s.useState)(null),p=(0,l.createClientComponentClient)();(0,s.useEffect)(()=>{!async function(){x(!0),b(null);try{let{data:{session:r},error:a}=await p.auth.getSession();if(a||!r){e.push("/login");return}let s=r.user.id;if("e3f4e47e-3db4-4b1f-bd43-bed4556f3bab"!==s&&"ulrik.fjellsta@gmail.com"!==r.user.email){e.push("/dashboard");return}let{data:n,error:l}=await p.from("external_reviews").select("*").order("published_at",{ascending:!1});if(l)throw l;t(n||[])}catch(e){console.error("Error fetching external reviews:",e),b(e.message||"En feil oppstod ved henting av eksterne anmeldelser")}finally{x(!1)}}()},[e,p]);let g=e=>(0,o.WU)(new Date(e),"PPP",{locale:u.nb}),N=e=>(0,a.jsx)("div",{className:"flex",children:[1,2,3,4,5].map(r=>(0,a.jsx)("span",{className:(0,c.cn)("text-lg",r<=e?"text-yellow-500":"text-gray-300"),children:"★"},r))}),j=e=>{switch(e.toLowerCase()){case"google":return{color:"bg-blue-100 text-blue-600",initials:"G"};case"trustpilot":return{color:"bg-green-100 text-green-600",initials:"TP"};case"facebook":return{color:"bg-indigo-100 text-indigo-600",initials:"FB"};default:return{color:"bg-gray-100 text-gray-600",initials:e.substring(0,2).toUpperCase()}}};return m?(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Eksterne anmeldelser (admin)"}),(0,a.jsx)(f.default,{}),(0,a.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Eksterne anmeldelser (admin)"}),(0,a.jsx)(f.default,{}),h&&(0,a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:h}),0===r.length?(0,a.jsx)(i.Zb,{children:(0,a.jsx)(i.aY,{className:"py-6",children:(0,a.jsx)("p",{className:"text-center text-gray-500",children:"Ingen eksterne anmeldelser funnet."})})}):(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(e=>{let r=j(e.platform);return(0,a.jsxs)(i.Zb,{className:"overflow-hidden",children:[(0,a.jsx)(i.Ol,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(d.qE,{className:r.color,children:(0,a.jsx)(d.Q5,{children:r.initials})}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(i.ll,{className:"text-lg",children:e.author_name}),N(e.rating)]})]})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{className:"font-medium",children:e.platform}),(0,a.jsx)("span",{children:g(e.published_at)})]}),(0,a.jsx)("p",{className:"text-gray-700",children:e.comment})]})]},e.id)})})]})})}},50660:function(e,r,t){"use strict";t.d(r,{Q5:function(){return d},qE:function(){return i}});var a=t(57437),s=t(2265),n=t(27733),l=t(1657);let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(n.fC,{ref:r,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s})});i.displayName=n.fC.displayName,s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(n.Ee,{ref:r,className:(0,l.cn)("aspect-square h-full w-full",t),...s})}).displayName=n.Ee.displayName;let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(n.NY,{ref:r,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-gray-100 text-gray-700",t),...s})});d.displayName=n.NY.displayName},27815:function(e,r,t){"use strict";t.d(r,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return o},ll:function(){return d}});var a=t(57437),s=t(2265),n=t(1657);let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm relative pointer-events-auto",t),...s})});l.displayName="Card";let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6 pointer-events-auto",t),...s})});i.displayName="CardHeader";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});d.displayName="CardTitle";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-gray-500",t),...s})});c.displayName="CardDescription";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0 pointer-events-auto",t),...s})});o.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0 pointer-events-auto",t),...s})}).displayName="CardFooter"},1657:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var a=t(75504),s=t(51367);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,a.W)(r))}},47907:function(e,r,t){"use strict";var a=t(15313);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[714,792,150,231,7,971,69,744],function(){return e(e.s=86147)}),_N_E=e.O()}]);