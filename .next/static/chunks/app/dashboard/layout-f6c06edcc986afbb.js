(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{3001:function(e,r,t){Promise.resolve().then(t.bind(t,40596))},40596:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return h}});var n=t(57437),a=t(2265),s=t(47907),o=t(58714),i=t(8792),l=t(57977);let u=(0,l.Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var c=t(94929);let d=(0,l.Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var f=t(49079);function h(e){let{children:r}=e,[t,l]=(0,a.useState)(null),[h,m]=(0,a.useState)(!0),[p,x]=(0,a.useState)(!1),v=(0,s.useRouter)(),b=(0,s.usePathname)(),g=(0,o.createClientComponentClient)();return((0,a.useEffect)(()=>{(async function(){try{var e;let{data:{session:r},error:t}=await g.auth.getSession();if(t){console.error("Error fetching session:",t),v.push("/login");return}if(!r){v.push("/login");return}if(l(r),"/onboarding"!==b){let{data:e,error:t}=await g.from("profiles").select("onboarding_completed").eq("id",r.user.id).single();if(t)console.error("Error fetching profile:",t);else if(e&&!1===e.onboarding_completed){v.push("/onboarding");return}}let n=f.env.NEXT_PUBLIC_ADMIN_USER_ID;n&&(null===(e=r.user)||void 0===e?void 0:e.id)===n&&x(!0)}catch(e){console.error("Auth error:",e),v.push("/login")}finally{m(!1)}})()},[v,g,b]),h)?(0,n.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,n.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,n.jsx)("nav",{className:"bg-white shadow-sm relative z-30",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex justify-between h-16",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,n.jsx)(i.default,{href:"/dashboard",className:"text-xl font-bold text-gray-800",children:"Review Manager"})}),(0,n.jsxs)("div",{className:"ml-6 flex space-x-8",children:[(0,n.jsxs)(i.default,{href:"/dashboard",className:"inline-flex items-center gap-2 px-3 pt-1 border-b-2 text-sm font-medium pointer-events-auto relative z-10 ".concat("/dashboard"===b?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:[(0,n.jsx)(u,{size:16}),"Dashboard"]}),(0,n.jsxs)(i.default,{href:"/dashboard/analytics",className:"inline-flex items-center gap-2 px-3 pt-1 border-b-2 text-sm font-medium pointer-events-auto relative z-10 ".concat("/dashboard/analytics"===b||"/dashboard/overview"===b?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:[(0,n.jsx)(c.Z,{size:16}),"Statistikk"]}),(0,n.jsxs)(i.default,{href:"/dashboard/reviews",className:"inline-flex items-center gap-2 px-3 pt-1 border-b-2 text-sm font-medium pointer-events-auto relative z-10 ".concat("/dashboard/reviews"===b?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:[(0,n.jsx)(d,{size:16}),"Send foresp\xf8rsel"]}),p&&(0,n.jsx)(i.default,{href:"/dashboard/admin",className:"inline-flex items-center gap-2 px-3 pt-1 border-b-2 text-sm font-medium pointer-events-auto relative z-10 ".concat((null==b?void 0:b.includes("/dashboard/admin"))?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:(0,n.jsx)("span",{className:"text-red-600 font-semibold",children:"Admin"})})]})]}),(0,n.jsx)("div",{className:"flex items-center relative z-20",children:(0,n.jsx)("button",{onClick:async()=>{await g.auth.signOut(),v.push("/login")},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 pointer-events-auto relative z-10",type:"button",children:"Logg ut"})})]})})}),(0,n.jsx)("main",{className:"py-10 relative z-10",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r})})]})}},57977:function(e,r,t){"use strict";t.d(r,{Z:function(){return d}});var n=t(2265);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),o=e=>{let r=s(e);return r.charAt(0).toUpperCase()+r.slice(1)},i=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim(),l=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,n.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:c,...d},f)=>(0,n.createElement)("svg",{ref:f,...u,width:r,height:r,stroke:e,strokeWidth:a?24*Number(t)/Number(r):t,className:i("lucide",s),...!o&&!l(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,r])=>(0,n.createElement)(e,r)),...Array.isArray(o)?o:[o]])),d=(e,r)=>{let t=(0,n.forwardRef)(({className:t,...s},l)=>(0,n.createElement)(c,{ref:l,iconNode:r,className:i(`lucide-${a(o(e))}`,`lucide-${e}`,t),...s}));return t.displayName=o(e),t}},94929:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(57977).Z)("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]])},47907:function(e,r,t){"use strict";var n=t(15313);t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},49079:function(e,r,t){"use strict";var n,a;e.exports=(null==(n=t.g.process)?void 0:n.env)&&"object"==typeof(null==(a=t.g.process)?void 0:a.env)?t.g.process:t(13127)},13127:function(e){!function(){var r={229:function(e){var r,t,n,a=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function i(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{t="function"==typeof clearTimeout?clearTimeout:o}catch(e){t=o}}();var l=[],u=!1,c=-1;function d(){u&&n&&(u=!1,n.length?l=n.concat(l):c=-1,l.length&&f())}function f(){if(!u){var e=i(d);u=!0;for(var r=l.length;r;){for(n=l,l=[];++c<r;)n&&n[c].run();c=-1,r=l.length}n=null,u=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===o||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(r){try{return t.call(null,e)}catch(r){return t.call(this,e)}}}(e)}}function h(e,r){this.fun=e,this.array=r}function m(){}a.nextTick=function(e){var r=Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];l.push(new h(e,r)),1!==l.length||u||i(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},t={};function n(e){var a=t[e];if(void 0!==a)return a.exports;var s=t[e]={exports:{}},o=!0;try{r[e](s,s.exports,n),o=!1}finally{o&&delete t[e]}return s.exports}n.ab="//";var a=n(229);e.exports=a}()}},function(e){e.O(0,[714,792,971,69,744],function(){return e(e.s=3001)}),_N_E=e.O()}]);